<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A lightweight single-header Vulkan rendering library"><link href=https://zest-docs.example.com/concepts/images/ rel=canonical><link href=../buffers/ rel=prev><link href=../layers/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Images - Zest Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#images class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Zest Documentation" class="md-header__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zest Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Images </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../api-reference/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../examples/ class=md-tabs__link> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Zest Documentation" class="md-nav__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Zest Documentation </label> <div class=md-nav__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../getting-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/first-application/ class=md-nav__link> <span class=md-ellipsis> First Application </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Concepts </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../device-and-context/ class=md-nav__link> <span class=md-ellipsis> Device & Context </span> </a> </li> <li class=md-nav__item> <a href=../frame-graph.md class=md-nav__link> <span class=md-ellipsis> Frame Graph </span> </a> </li> <li class=md-nav__item> <a href=../pipelines/ class=md-nav__link> <span class=md-ellipsis> Pipelines </span> </a> </li> <li class=md-nav__item> <a href=../buffers/ class=md-nav__link> <span class=md-ellipsis> Buffers </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Images </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Images </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#creating-images class=md-nav__link> <span class=md-ellipsis> Creating Images </span> </a> <nav class=md-nav aria-label="Creating Images"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-image class=md-nav__link> <span class=md-ellipsis> Basic Image </span> </a> </li> <li class=md-nav__item> <a href=#with-pixel-data class=md-nav__link> <span class=md-ellipsis> With Pixel Data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-presets class=md-nav__link> <span class=md-ellipsis> Image Presets </span> </a> </li> <li class=md-nav__item> <a href=#image-formats class=md-nav__link> <span class=md-ellipsis> Image Formats </span> </a> </li> <li class=md-nav__item> <a href=#samplers class=md-nav__link> <span class=md-ellipsis> Samplers </span> </a> <nav class=md-nav aria-label=Samplers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-samplers class=md-nav__link> <span class=md-ellipsis> Creating Samplers </span> </a> </li> <li class=md-nav__item> <a href=#sampler-options class=md-nav__link> <span class=md-ellipsis> Sampler Options </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-access class=md-nav__link> <span class=md-ellipsis> Bindless Access </span> </a> <nav class=md-nav aria-label="Bindless Access"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#acquiring-indices class=md-nav__link> <span class=md-ellipsis> Acquiring Indices </span> </a> </li> <li class=md-nav__item> <a href=#using-in-shaders class=md-nav__link> <span class=md-ellipsis> Using in Shaders </span> </a> </li> <li class=md-nav__item> <a href=#releasing-indices class=md-nav__link> <span class=md-ellipsis> Releasing Indices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-views class=md-nav__link> <span class=md-ellipsis> Image Views </span> </a> </li> <li class=md-nav__item> <a href=#render-targets class=md-nav__link> <span class=md-ellipsis> Render Targets </span> </a> <nav class=md-nav aria-label="Render Targets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-render-targets class=md-nav__link> <span class=md-ellipsis> Creating Render Targets </span> </a> </li> <li class=md-nav__item> <a href=#transient-render-targets class=md-nav__link> <span class=md-ellipsis> Transient Render Targets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#depth-buffers class=md-nav__link> <span class=md-ellipsis> Depth Buffers </span> </a> </li> <li class=md-nav__item> <a href=#loading-ktx-textures class=md-nav__link> <span class=md-ellipsis> Loading KTX Textures </span> </a> </li> <li class=md-nav__item> <a href=#image-operations class=md-nav__link> <span class=md-ellipsis> Image Operations </span> </a> <nav class=md-nav aria-label="Image Operations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blit-between-images class=md-nav__link> <span class=md-ellipsis> Blit Between Images </span> </a> </li> <li class=md-nav__item> <a href=#generate-mipmaps class=md-nav__link> <span class=md-ellipsis> Generate Mipmaps </span> </a> </li> <li class=md-nav__item> <a href=#clear-image class=md-nav__link> <span class=md-ellipsis> Clear Image </span> </a> </li> <li class=md-nav__item> <a href=#blit-mip-level-frame-graph class=md-nav__link> <span class=md-ellipsis> Blit Mip Level (Frame Graph) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#freeing-images class=md-nav__link> <span class=md-ellipsis> Freeing Images </span> </a> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../layers/ class=md-nav__link> <span class=md-ellipsis> Layers </span> </a> </li> <li class=md-nav__item> <a href=../bindless/ class=md-nav__link> <span class=md-ellipsis> Bindless Descriptors </span> </a> </li> <li class=md-nav__item> <a href=../memory/ class=md-nav__link> <span class=md-ellipsis> Memory Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/01-minimal-template/ class=md-nav__link> <span class=md-ellipsis> Minimal Template </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/02-imgui/ class=md-nav__link> <span class=md-ellipsis> Adding ImGui </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/03-instancing/ class=md-nav__link> <span class=md-ellipsis> GPU Instancing </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/04-textures/ class=md-nav__link> <span class=md-ellipsis> Loading Textures </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/05-compute/ class=md-nav__link> <span class=md-ellipsis> Compute Shaders </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/06-multipass/ class=md-nav__link> <span class=md-ellipsis> Multi-Pass Rendering </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/07-shadows/ class=md-nav__link> <span class=md-ellipsis> Shadow Mapping </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../api-reference/ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api-reference/device/ class=md-nav__link> <span class=md-ellipsis> Device API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/context/ class=md-nav__link> <span class=md-ellipsis> Context API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/frame-graph/ class=md-nav__link> <span class=md-ellipsis> Frame Graph API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/pipeline/ class=md-nav__link> <span class=md-ellipsis> Pipeline API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/buffer/ class=md-nav__link> <span class=md-ellipsis> Buffer API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/image/ class=md-nav__link> <span class=md-ellipsis> Image API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/layer/ class=md-nav__link> <span class=md-ellipsis> Layer API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/compute/ class=md-nav__link> <span class=md-ellipsis> Compute API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/commands/ class=md-nav__link> <span class=md-ellipsis> Command API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/immediate/ class=md-nav__link> <span class=md-ellipsis> Immediate API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/math/ class=md-nav__link> <span class=md-ellipsis> Math API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/camera/ class=md-nav__link> <span class=md-ellipsis> Camera API </span> </a> </li> <li class=md-nav__item> <a href=../../api-reference/timer/ class=md-nav__link> <span class=md-ellipsis> Timer API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../examples/ class="md-nav__link "> <span class=md-ellipsis> Examples </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#creating-images class=md-nav__link> <span class=md-ellipsis> Creating Images </span> </a> <nav class=md-nav aria-label="Creating Images"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-image class=md-nav__link> <span class=md-ellipsis> Basic Image </span> </a> </li> <li class=md-nav__item> <a href=#with-pixel-data class=md-nav__link> <span class=md-ellipsis> With Pixel Data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-presets class=md-nav__link> <span class=md-ellipsis> Image Presets </span> </a> </li> <li class=md-nav__item> <a href=#image-formats class=md-nav__link> <span class=md-ellipsis> Image Formats </span> </a> </li> <li class=md-nav__item> <a href=#samplers class=md-nav__link> <span class=md-ellipsis> Samplers </span> </a> <nav class=md-nav aria-label=Samplers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-samplers class=md-nav__link> <span class=md-ellipsis> Creating Samplers </span> </a> </li> <li class=md-nav__item> <a href=#sampler-options class=md-nav__link> <span class=md-ellipsis> Sampler Options </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-access class=md-nav__link> <span class=md-ellipsis> Bindless Access </span> </a> <nav class=md-nav aria-label="Bindless Access"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#acquiring-indices class=md-nav__link> <span class=md-ellipsis> Acquiring Indices </span> </a> </li> <li class=md-nav__item> <a href=#using-in-shaders class=md-nav__link> <span class=md-ellipsis> Using in Shaders </span> </a> </li> <li class=md-nav__item> <a href=#releasing-indices class=md-nav__link> <span class=md-ellipsis> Releasing Indices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-views class=md-nav__link> <span class=md-ellipsis> Image Views </span> </a> </li> <li class=md-nav__item> <a href=#render-targets class=md-nav__link> <span class=md-ellipsis> Render Targets </span> </a> <nav class=md-nav aria-label="Render Targets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-render-targets class=md-nav__link> <span class=md-ellipsis> Creating Render Targets </span> </a> </li> <li class=md-nav__item> <a href=#transient-render-targets class=md-nav__link> <span class=md-ellipsis> Transient Render Targets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#depth-buffers class=md-nav__link> <span class=md-ellipsis> Depth Buffers </span> </a> </li> <li class=md-nav__item> <a href=#loading-ktx-textures class=md-nav__link> <span class=md-ellipsis> Loading KTX Textures </span> </a> </li> <li class=md-nav__item> <a href=#image-operations class=md-nav__link> <span class=md-ellipsis> Image Operations </span> </a> <nav class=md-nav aria-label="Image Operations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blit-between-images class=md-nav__link> <span class=md-ellipsis> Blit Between Images </span> </a> </li> <li class=md-nav__item> <a href=#generate-mipmaps class=md-nav__link> <span class=md-ellipsis> Generate Mipmaps </span> </a> </li> <li class=md-nav__item> <a href=#clear-image class=md-nav__link> <span class=md-ellipsis> Clear Image </span> </a> </li> <li class=md-nav__item> <a href=#blit-mip-level-frame-graph class=md-nav__link> <span class=md-ellipsis> Blit Mip Level (Frame Graph) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#freeing-images class=md-nav__link> <span class=md-ellipsis> Freeing Images </span> </a> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=images>Images<a class=headerlink href=#images title="Permanent link">&para;</a></h1> <p>Images in Zest represent GPU memory that stores pixel data. This includes textures (sampled in shaders), color attachments (render targets), depth/stencil attachments, and storage images (read/write in compute shaders).</p> <p>Zest uses a handle-based system where <code>zest_image_handle</code> is a lightweight reference to the underlying <code>zest_image</code> resource. This separation allows safe deferred destruction while maintaining fast access during rendering.</p> <h2 id=creating-images>Creating Images<a class=headerlink href=#creating-images title="Permanent link">&para;</a></h2> <h3 id=basic-image>Basic Image<a class=headerlink href=#basic-image title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture_mipmaps</span><span class=p>;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImage</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>handle</span><span class=p>);</span>
</span></code></pre></div> <h3 id=with-pixel-data>With Pixel Data<a class=headerlink href=#with-pixel-data title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Load pixels (using stb_image or similar)</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>channels</span><span class=p>;</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=kt>unsigned</span><span class=w> </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>pixels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stbi_load</span><span class=p>(</span><span class=s>&quot;texture.png&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>channels</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=c1>// Create image info</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture_mipmaps</span><span class=p>;</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=c1>// Create with pixels</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>zest_size</span><span class=w> </span><span class=n>pixel_size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageWithPixels</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>pixels</span><span class=p>,</span><span class=w> </span><span class=n>pixel_size</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=c1>//Image is now ready to be sampled in a texture.</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=n>stbi_image_free</span><span class=p>(</span><span class=n>pixels</span><span class=p>);</span>
</span></code></pre></div> <h2 id=image-presets>Image Presets<a class=headerlink href=#image-presets title="Permanent link">&para;</a></h2> <p>Common configurations via flags:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1>// Texture with mipmaps (most common)</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture_mipmaps</span><span class=p>;</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c1>// Texture without mipmaps</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture</span><span class=p>;</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1>// Color attachment (render target)</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_color_attachment</span><span class=p>;</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c1>// Depth attachment</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_depth_attachment</span><span class=p>;</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=c1>// Storage image (compute shader access)</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_storage</span><span class=p>;</span>
</span></code></pre></div> <h2 id=image-formats>Image Formats<a class=headerlink href=#image-formats title="Permanent link">&para;</a></h2> <p>Common formats:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// Color formats</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>zest_format_r8g8b8a8_unorm</span><span class=w>      </span><span class=c1>// 8-bit RGBA, normalized</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=n>zest_format_r8g8b8a8_srgb</span><span class=w>       </span><span class=c1>// 8-bit RGBA, sRGB</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>zest_format_r16g16b16a16_sfloat</span><span class=w> </span><span class=c1>// 16-bit float RGBA (HDR)</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>zest_format_r32g32b32a32_sfloat</span><span class=w> </span><span class=c1>// 32-bit float RGBA</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=c1>// Depth formats</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=n>zest_format_d32_sfloat</span><span class=w>          </span><span class=c1>// 32-bit depth</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=n>zest_format_d24_unorm_s8_uint</span><span class=w>   </span><span class=c1>// 24-bit depth + 8-bit stencil</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=c1>// Compressed formats</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=n>zest_format_bc1_rgb_unorm</span><span class=w>       </span><span class=c1>// BC1 (DXT1)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=n>zest_format_bc3_unorm</span><span class=w>           </span><span class=c1>// BC3 (DXT5)</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=n>zest_format_bc7_unorm</span><span class=w>           </span><span class=c1>// BC7 (high quality)</span>
</span></code></pre></div> <h2 id=samplers>Samplers<a class=headerlink href=#samplers title="Permanent link">&para;</a></h2> <p>Samplers define how textures are filtered and addressed.</p> <h3 id=creating-samplers>Creating Samplers<a class=headerlink href=#creating-samplers title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSamplerInfo</span><span class=p>();</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>zest_sampler_handle</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSampler</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div> <h3 id=sampler-options>Sampler Options<a class=headerlink href=#sampler-options title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSamplerInfo</span><span class=p>();</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=c1>// Filtering</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=n>info</span><span class=p>.</span><span class=n>min_filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_filter_linear</span><span class=p>;</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=n>info</span><span class=p>.</span><span class=n>mag_filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_filter_linear</span><span class=p>;</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>info</span><span class=p>.</span><span class=n>mipmap_mode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_mipmap_mode_linear</span><span class=p>;</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=c1>// Address mode</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=n>info</span><span class=p>.</span><span class=n>address_mode_u</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_sampler_address_mode_repeat</span><span class=p>;</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=n>info</span><span class=p>.</span><span class=n>address_mode_v</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_sampler_address_mode_repeat</span><span class=p>;</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=n>info</span><span class=p>.</span><span class=n>address_mode_w</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_sampler_address_mode_clamp_to_edge</span><span class=p>;</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=c1>// Anisotropic filtering (reduces blur on surfaces viewed at angles)</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=n>info</span><span class=p>.</span><span class=n>anisotropy_enable</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ZEST_TRUE</span><span class=p>;</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=n>info</span><span class=p>.</span><span class=n>max_anisotropy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>16.0f</span><span class=p>;</span>
</span></code></pre></div> <h2 id=bindless-access>Bindless Access<a class=headerlink href=#bindless-access title="Permanent link">&para;</a></h2> <p>Zest uses bindless descriptors to access images in shaders. Instead of binding individual textures to specific slots, all textures are stored in global descriptor arrays and accessed by index. This allows shaders to use any texture without rebinding, enabling efficient batching and dynamic material systems.</p> <p>The following functions apply to persistant images that were created outside of a frame graph. Transient images acquire indexes with different functions as they will get automatically released at the end of each frame.</p> <h3 id=acquiring-indices>Acquiring Indices<a class=headerlink href=#acquiring-indices title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>// Get image and sampler</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>image_handle</span><span class=p>);</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=n>zest_sampler</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetSampler</span><span class=p>(</span><span class=n>sampler_handle</span><span class=p>);</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=c1>// Acquire bindless indices</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=n>zest_uint</span><span class=w> </span><span class=n>tex_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSampledImageIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=n>zest_uint</span><span class=w> </span><span class=n>sampler_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSamplerIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>sampler</span><span class=p>);</span>
</span></code></pre></div> <h3 id=using-in-shaders>Using in Shaders<a class=headerlink href=#using-in-shaders title="Permanent link">&para;</a></h3> <div class="language-glsl highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1>// Descriptor arrays</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>layout</span><span class=p>(</span><span class=n>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mo>0</span><span class=p>,</span><span class=w> </span><span class=n>binding</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mo>0</span><span class=p>)</span><span class=w> </span><span class=k>uniform</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=n>samplers</span><span class=p>[];</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=k>layout</span><span class=p>(</span><span class=n>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mo>0</span><span class=p>,</span><span class=w> </span><span class=n>binding</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>uniform</span><span class=w> </span><span class=n>texture2D</span><span class=w> </span><span class=n>textures</span><span class=p>[];</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=c1>// Sample using indices from push constants</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=kt>void</span><span class=w> </span><span class=n>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>    </span><span class=kt>vec4</span><span class=w> </span><span class=n>color</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>texture</span><span class=p>(</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>        </span><span class=kt>sampler2D</span><span class=p>(</span><span class=n>textures</span><span class=p>[</span><span class=n>push</span><span class=p>.</span><span class=n>tex_index</span><span class=p>],</span><span class=w> </span><span class=n>samplers</span><span class=p>[</span><span class=n>push</span><span class=p>.</span><span class=n>sampler_index</span><span class=p>]),</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>        </span><span class=n>uv</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=p>);</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=p>}</span>
</span></code></pre></div> <h3 id=releasing-indices>Releasing Indices<a class=headerlink href=#releasing-indices title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>// When image is no longer needed, release its bindless index</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>zest_ReleaseImageIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=c1>// To release all bindless indices for an image at once</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=n>zest_ReleaseAllImageIndexes</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p><strong>Note:</strong> When you call zest_FreeImage or zest_FreeImageNow any indexes that the image acquired will be released so you only need to call the functions above if you want to keep the image but no longer need to sample it in the shader.</p> </blockquote> <h2 id=image-views>Image Views<a class=headerlink href=#image-views title="Permanent link">&para;</a></h2> <p>Image views provide a way to access a subset of an image's data. While an image might contain multiple mip levels or array layers, a view can expose just a portion of that data to shaders or as an attachment. This is useful for mipmap generation, cubemap face access, or array texture slicing.</p> <p>When an image is created it is automatically set up with a default view, but you can create other views if you have more specific needs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1>// Create view info (defaults to all mips and layers)</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>zest_image_view_create_info_t</span><span class=w> </span><span class=n>view_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateViewImageInfo</span><span class=p>(</span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=c1>// Customize for specific mip range</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=n>view_info</span><span class=p>.</span><span class=n>base_mip_level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=n>view_info</span><span class=p>.</span><span class=n>level_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>// Single mip</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=c1>// Create the view</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=n>zest_image_view_handle</span><span class=w> </span><span class=n>view_handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageView</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>view_info</span><span class=p>);</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=n>zest_image_view</span><span class=w> </span><span class=n>view</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImageView</span><span class=p>(</span><span class=n>view_handle</span><span class=p>);</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=c1>// Create views for all mips (one view per mip level)</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=n>zest_image_view_array_handle</span><span class=w> </span><span class=n>views_handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageViewsPerMip</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=n>zest_image_view_array</span><span class=w> </span><span class=n>views</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImageViewArray</span><span class=p>(</span><span class=n>views_handle</span><span class=p>);</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=n>zest_uint</span><span class=w> </span><span class=n>mip_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>image</span><span class=o>-&gt;</span><span class=n>info</span><span class=p>.</span><span class=n>mip_levels</span><span class=p>;</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=c1>// Free views</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=n>zest_FreeImageView</span><span class=p>(</span><span class=n>view_handle</span><span class=p>);</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=n>zest_FreeImageViewArray</span><span class=p>(</span><span class=n>views_handle</span><span class=p>);</span>
</span></code></pre></div> <h2 id=render-targets>Render Targets<a class=headerlink href=#render-targets title="Permanent link">&para;</a></h2> <h3 id=creating-render-targets>Creating Render Targets<a class=headerlink href=#creating-render-targets title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r16g16b16a16_sfloat</span><span class=p>;</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_color_attachment</span><span class=p>;</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>render_target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImage</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div> <h3 id=transient-render-targets>Transient Render Targets<a class=headerlink href=#transient-render-targets title="Permanent link">&para;</a></h3> <p>For intermediate targets that only exist within a single frame, use the frame graph's transient resource system. These resources are automatically created and destroyed as needed:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>zest_image_resource_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r16g16b16a16_sfloat</span><span class=p>,</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=p>.</span><span class=n>usage_hints</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_resource_usage_hint_none</span><span class=p>,</span><span class=w>  </span><span class=c1>// Frame graph infers usage</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=p>.</span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>screen_width</span><span class=p>,</span><span class=w>   </span><span class=c1>// 0 defaults to screen width</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>    </span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>screen_height</span><span class=p>,</span><span class=w> </span><span class=c1>// 0 defaults to screen height</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>    </span><span class=p>.</span><span class=n>mip_levels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=p>};</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>hdr_target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;HDR&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div> <h2 id=depth-buffers>Depth Buffers<a class=headerlink href=#depth-buffers title="Permanent link">&para;</a></h2> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_d32_sfloat</span><span class=p>;</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_depth_attachment</span><span class=p>;</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>depth</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImage</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div> <h2 id=loading-ktx-textures>Loading KTX Textures<a class=headerlink href=#loading-ktx-textures title="Permanent link">&para;</a></h2> <p>Using the optional zest_utilities.h:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;zest_utilities.h&gt;</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>texture</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_LoadKTX</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=s>&quot;my_texture&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;path/to/texture.ktx&quot;</span><span class=p>);</span>
</span></code></pre></div> <p>KTX format supports:</p> <ul> <li>Mipmaps</li> <li>Cubemaps</li> <li>Compressed formats</li> <li>Array textures</li> </ul> <h2 id=image-operations>Image Operations<a class=headerlink href=#image-operations title="Permanent link">&para;</a></h2> <p>Zest provides two ways to perform image operations: - <strong>Immediate mode</strong> (<code>zest_imm_*</code>): One-off operations that block until complete. Useful for initialization and loading. - <strong>Frame graph commands</strong> (<code>zest_cmd_*</code>): Operations within render/compute passes. Automatically synchronized by the frame graph.</p> <h3 id=blit-between-images>Blit Between Images<a class=headerlink href=#blit-between-images title="Permanent link">&para;</a></h3> <p>Use immediate mode commands for one-off operations outside the frame graph:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>zest_queue</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_imm_BeginCommandBuffer</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_queue_graphics</span><span class=p>);</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>zest_imm_BlitImage</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>src_image</span><span class=p>,</span><span class=w> </span><span class=n>dst_image</span><span class=p>,</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>src_width</span><span class=p>,</span><span class=w> </span><span class=n>src_height</span><span class=p>,</span><span class=w>    </span><span class=c1>// Source region</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>    </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>dst_width</span><span class=p>,</span><span class=w> </span><span class=n>dst_height</span><span class=p>,</span><span class=w>    </span><span class=c1>// Destination region</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>    </span><span class=n>zest_filter_linear</span><span class=p>);</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=n>zest_imm_EndCommandBuffer</span><span class=p>(</span><span class=n>queue</span><span class=p>);</span>
</span></code></pre></div> <h3 id=generate-mipmaps>Generate Mipmaps<a class=headerlink href=#generate-mipmaps title="Permanent link">&para;</a></h3> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>zest_queue</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_imm_BeginCommandBuffer</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_queue_graphics</span><span class=p>);</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>zest_imm_GenerateMipMaps</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=n>zest_imm_EndCommandBuffer</span><span class=p>(</span><span class=n>queue</span><span class=p>);</span>
</span></code></pre></div> <h3 id=clear-image>Clear Image<a class=headerlink href=#clear-image title="Permanent link">&para;</a></h3> <p>Within a frame graph callback:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kt>void</span><span class=w> </span><span class=nf>ClearCallback</span><span class=p>(</span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=w>    </span><span class=n>zest_cmd_ImageClear</span><span class=p>(</span><span class=n>cmd</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=p>}</span>
</span></code></pre></div> <p>For immediate mode clearing with specific values:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>zest_queue</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_imm_BeginCommandBuffer</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_queue_graphics</span><span class=p>);</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>zest_clear_value_t</span><span class=w> </span><span class=n>clear</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>.</span><span class=n>color</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>}</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>zest_imm_ClearColorImage</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>clear</span><span class=p>);</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=n>zest_imm_EndCommandBuffer</span><span class=p>(</span><span class=n>queue</span><span class=p>);</span>
</span></code></pre></div> <h3 id=blit-mip-level-frame-graph>Blit Mip Level (Frame Graph)<a class=headerlink href=#blit-mip-level-frame-graph title="Permanent link">&para;</a></h3> <p>Within a frame graph, blit from one mip level to another:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kt>void</span><span class=w> </span><span class=nf>BlitCallback</span><span class=p>(</span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=w>    </span><span class=n>zest_cmd_BlitImageMip</span><span class=p>(</span><span class=n>cmd</span><span class=p>,</span><span class=w> </span><span class=n>src_resource</span><span class=p>,</span><span class=w> </span><span class=n>dst_resource</span><span class=p>,</span><span class=w> </span><span class=n>mip_to_blit</span><span class=p>,</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=w>        </span><span class=n>zest_pipeline_stage_fragment_shader_bit</span><span class=p>);</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=p>}</span>
</span></code></pre></div> <h2 id=freeing-images>Freeing Images<a class=headerlink href=#freeing-images title="Permanent link">&para;</a></h2> <p>Images should be freed when no longer needed. Use deferred destruction to ensure the GPU has finished using the resource:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=c1>// Deferred free (safe - waits for GPU to finish)</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=n>zest_FreeImage</span><span class=p>(</span><span class=n>image_handle</span><span class=p>);</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=c1>// Immediate free (only use when you&#39;ve ensured GPU is done)</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=n>zest_FreeImageNow</span><span class=p>(</span><span class=n>image_handle</span><span class=p>);</span>
</span></code></pre></div> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <ol> <li><strong>Use appropriate formats</strong> - sRGB for color textures, linear for data</li> <li><strong>Generate mipmaps</strong> - For textures viewed at varying distances</li> <li><strong>Use compressed formats</strong> - BC7 for quality, BC1 for small size, not essential but if you're using a lot of texture memory then well worth it.</li> <li><strong>Prefer transient images</strong> - For intermediate render targets</li> </ol> <h2 id=see-also>See Also<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2> <ul> <li><a href=../bindless/ >Bindless Descriptors</a> - Descriptor system details</li> <li><a href=../../api-reference/image/ >Image API</a> - Complete function reference</li> <li><a href=../../tutorials/04-textures/ >Textures Tutorial</a> - Loading and using textures</li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>