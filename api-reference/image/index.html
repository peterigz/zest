<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A lightweight single-header Vulkan rendering library"><link href=https://zest-docs.example.com/api-reference/image/ rel=canonical><link href=../buffer/ rel=prev><link href=../layer/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Image API - Zest Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#image-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Zest Documentation" class="md-header__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zest Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Image API </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../concepts/ class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../examples/ class=md-tabs__link> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Zest Documentation" class="md-nav__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Zest Documentation </label> <div class=md-nav__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../getting-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/first-application/ class=md-nav__link> <span class=md-ellipsis> First Application </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../concepts/ class="md-nav__link "> <span class=md-ellipsis> Concepts </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/device-and-context/ class=md-nav__link> <span class=md-ellipsis> Device & Context </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/frame-graph.md class=md-nav__link> <span class=md-ellipsis> Frame Graph </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/pipelines/ class=md-nav__link> <span class=md-ellipsis> Pipelines </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/buffers/ class=md-nav__link> <span class=md-ellipsis> Buffers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/images/ class=md-nav__link> <span class=md-ellipsis> Images </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/layers/ class=md-nav__link> <span class=md-ellipsis> Layers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/bindless/ class=md-nav__link> <span class=md-ellipsis> Bindless Descriptors </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/memory/ class=md-nav__link> <span class=md-ellipsis> Memory Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/01-minimal-template/ class=md-nav__link> <span class=md-ellipsis> Minimal Template </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/02-imgui/ class=md-nav__link> <span class=md-ellipsis> Adding ImGui </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/03-instancing/ class=md-nav__link> <span class=md-ellipsis> GPU Instancing </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/04-textures/ class=md-nav__link> <span class=md-ellipsis> Loading Textures </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/05-compute/ class=md-nav__link> <span class=md-ellipsis> Compute Shaders </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/06-multipass/ class=md-nav__link> <span class=md-ellipsis> Multi-Pass Rendering </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/07-shadows/ class=md-nav__link> <span class=md-ellipsis> Shadow Mapping </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../device/ class=md-nav__link> <span class=md-ellipsis> Device API </span> </a> </li> <li class=md-nav__item> <a href=../context/ class=md-nav__link> <span class=md-ellipsis> Context API </span> </a> </li> <li class=md-nav__item> <a href=../frame-graph/ class=md-nav__link> <span class=md-ellipsis> Frame Graph API </span> </a> </li> <li class=md-nav__item> <a href=../pipeline/ class=md-nav__link> <span class=md-ellipsis> Pipeline API </span> </a> </li> <li class=md-nav__item> <a href=../buffer/ class=md-nav__link> <span class=md-ellipsis> Buffer API </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Image API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Image API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#image-creation class=md-nav__link> <span class=md-ellipsis> Image Creation </span> </a> <nav class=md-nav aria-label="Image Creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createimageinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateImageInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimage class=md-nav__link> <span class=md-ellipsis> zest_CreateImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimagewithpixels class=md-nav__link> <span class=md-ellipsis> zest_CreateImageWithPixels </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimage class=md-nav__link> <span class=md-ellipsis> zest_GetImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimage class=md-nav__link> <span class=md-ellipsis> zest_FreeImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimagenow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageNow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-views class=md-nav__link> <span class=md-ellipsis> Image Views </span> </a> <nav class=md-nav aria-label="Image Views"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createviewimageinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateViewImageInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimageview class=md-nav__link> <span class=md-ellipsis> zest_CreateImageView </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimageviewspermip class=md-nav__link> <span class=md-ellipsis> zest_CreateImageViewsPerMip </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimageview class=md-nav__link> <span class=md-ellipsis> zest_GetImageView </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimageviewarray class=md-nav__link> <span class=md-ellipsis> zest_GetImageViewArray </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimageview-zest_freeimageviewnow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageView / zest_FreeImageViewNow </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimageviewarray-zest_freeimageviewarraynow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageViewArray / zest_FreeImageViewArrayNow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#samplers class=md-nav__link> <span class=md-ellipsis> Samplers </span> </a> <nav class=md-nav aria-label=Samplers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createsamplerinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateSamplerInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createsampler class=md-nav__link> <span class=md-ellipsis> zest_CreateSampler </span> </a> </li> <li class=md-nav__item> <a href=#zest_getsampler class=md-nav__link> <span class=md-ellipsis> zest_GetSampler </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-indices class=md-nav__link> <span class=md-ellipsis> Bindless Indices </span> </a> <nav class=md-nav aria-label="Bindless Indices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_acquiresampledimageindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireSampledImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquiresamplerindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireSamplerIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquirestorageimageindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireStorageImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquireimagemipindexes class=md-nav__link> <span class=md-ellipsis> zest_AcquireImageMipIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseimageindex class=md-nav__link> <span class=md-ellipsis> zest_ReleaseImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseimagemipindexes class=md-nav__link> <span class=md-ellipsis> zest_ReleaseImageMipIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseallimageindexes class=md-nav__link> <span class=md-ellipsis> zest_ReleaseAllImageIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releasebindlessindex class=md-nav__link> <span class=md-ellipsis> zest_ReleaseBindlessIndex </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-example class=md-nav__link> <span class=md-ellipsis> Complete Example </span> </a> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../layer/ class=md-nav__link> <span class=md-ellipsis> Layer API </span> </a> </li> <li class=md-nav__item> <a href=../compute/ class=md-nav__link> <span class=md-ellipsis> Compute API </span> </a> </li> <li class=md-nav__item> <a href=../commands/ class=md-nav__link> <span class=md-ellipsis> Command API </span> </a> </li> <li class=md-nav__item> <a href=../immediate/ class=md-nav__link> <span class=md-ellipsis> Immediate API </span> </a> </li> <li class=md-nav__item> <a href=../math/ class=md-nav__link> <span class=md-ellipsis> Math API </span> </a> </li> <li class=md-nav__item> <a href=../camera/ class=md-nav__link> <span class=md-ellipsis> Camera API </span> </a> </li> <li class=md-nav__item> <a href=../timer/ class=md-nav__link> <span class=md-ellipsis> Timer API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../examples/ class="md-nav__link "> <span class=md-ellipsis> Examples </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#image-creation class=md-nav__link> <span class=md-ellipsis> Image Creation </span> </a> <nav class=md-nav aria-label="Image Creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createimageinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateImageInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimage class=md-nav__link> <span class=md-ellipsis> zest_CreateImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimagewithpixels class=md-nav__link> <span class=md-ellipsis> zest_CreateImageWithPixels </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimage class=md-nav__link> <span class=md-ellipsis> zest_GetImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimage class=md-nav__link> <span class=md-ellipsis> zest_FreeImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimagenow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageNow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-views class=md-nav__link> <span class=md-ellipsis> Image Views </span> </a> <nav class=md-nav aria-label="Image Views"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createviewimageinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateViewImageInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimageview class=md-nav__link> <span class=md-ellipsis> zest_CreateImageView </span> </a> </li> <li class=md-nav__item> <a href=#zest_createimageviewspermip class=md-nav__link> <span class=md-ellipsis> zest_CreateImageViewsPerMip </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimageview class=md-nav__link> <span class=md-ellipsis> zest_GetImageView </span> </a> </li> <li class=md-nav__item> <a href=#zest_getimageviewarray class=md-nav__link> <span class=md-ellipsis> zest_GetImageViewArray </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimageview-zest_freeimageviewnow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageView / zest_FreeImageViewNow </span> </a> </li> <li class=md-nav__item> <a href=#zest_freeimageviewarray-zest_freeimageviewarraynow class=md-nav__link> <span class=md-ellipsis> zest_FreeImageViewArray / zest_FreeImageViewArrayNow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#samplers class=md-nav__link> <span class=md-ellipsis> Samplers </span> </a> <nav class=md-nav aria-label=Samplers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createsamplerinfo class=md-nav__link> <span class=md-ellipsis> zest_CreateSamplerInfo </span> </a> </li> <li class=md-nav__item> <a href=#zest_createsampler class=md-nav__link> <span class=md-ellipsis> zest_CreateSampler </span> </a> </li> <li class=md-nav__item> <a href=#zest_getsampler class=md-nav__link> <span class=md-ellipsis> zest_GetSampler </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-indices class=md-nav__link> <span class=md-ellipsis> Bindless Indices </span> </a> <nav class=md-nav aria-label="Bindless Indices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_acquiresampledimageindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireSampledImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquiresamplerindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireSamplerIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquirestorageimageindex class=md-nav__link> <span class=md-ellipsis> zest_AcquireStorageImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_acquireimagemipindexes class=md-nav__link> <span class=md-ellipsis> zest_AcquireImageMipIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseimageindex class=md-nav__link> <span class=md-ellipsis> zest_ReleaseImageIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseimagemipindexes class=md-nav__link> <span class=md-ellipsis> zest_ReleaseImageMipIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releaseallimageindexes class=md-nav__link> <span class=md-ellipsis> zest_ReleaseAllImageIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_releasebindlessindex class=md-nav__link> <span class=md-ellipsis> zest_ReleaseBindlessIndex </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-example class=md-nav__link> <span class=md-ellipsis> Complete Example </span> </a> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=image-api>Image API<a class=headerlink href=#image-api title="Permanent link">&para;</a></h1> <p>Functions for image, image view, and sampler management.</p> <h2 id=image-creation>Image Creation<a class=headerlink href=#image-creation title="Permanent link">&para;</a></h2> <h3 id=zest_createimageinfo>zest_CreateImageInfo<a class=headerlink href=#zest_createimageinfo title="Permanent link">&para;</a></h3> <p>Creates a default image configuration struct with the specified dimensions.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=nf>zest_CreateImageInfo</span><span class=p>(</span><span class=n>zest_uint</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>zest_uint</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span></code></pre></div> <p>Set <code>info.flags</code> to a preset for common use cases: - <code>zest_image_preset_texture</code> - Standard texture loaded from CPU - <code>zest_image_preset_texture_mipmaps</code> - Texture with automatic mipmap generation - <code>zest_image_preset_color_attachment</code> - Render target that can be sampled (post-processing) - <code>zest_image_preset_depth_attachment</code> - Depth buffer that can be sampled (shadow mapping, SSAO) - <code>zest_image_preset_storage</code> - Compute shader read/write with sampling support - <code>zest_image_preset_storage_cubemap</code> - Cubemap for compute shader processing - <code>zest_image_preset_storage_mipped_cubemap</code> - Mipped cubemap for PBR lighting preparation</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Create a texture with mipmaps</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=mi>512</span><span class=p>,</span><span class=w> </span><span class=mi>512</span><span class=p>);</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture_mipmaps</span><span class=p>;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span></code></pre></div></p> <hr> <h3 id=zest_createimage>zest_CreateImage<a class=headerlink href=#zest_createimage title="Permanent link">&para;</a></h3> <p>Creates an empty GPU image with the specified configuration.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>zest_image_handle</span><span class=w> </span><span class=nf>zest_CreateImage</span><span class=p>(</span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_image_info_t</span><span class=w> </span><span class=o>*</span><span class=n>create_info</span><span class=p>);</span>
</span></code></pre></div> <p>Use this for images that will be written to by the GPU (render targets, compute output).</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// Create a render target</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span><span class=w> </span><span class=mi>1080</span><span class=p>);</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_color_attachment</span><span class=p>;</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>render_target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImage</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <h3 id=zest_createimagewithpixels>zest_CreateImageWithPixels<a class=headerlink href=#zest_createimagewithpixels title="Permanent link">&para;</a></h3> <p>Creates a GPU image and uploads pixel data from CPU memory.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>zest_image_handle</span><span class=w> </span><span class=nf>zest_CreateImageWithPixels</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pixels</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=n>zest_size</span><span class=w> </span><span class=n>size</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=n>zest_image_info_t</span><span class=w> </span><span class=o>*</span><span class=n>create_info</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=p>);</span>
</span></code></pre></div> <p>The most common way to create textures from loaded image data.</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>// Load and create a texture</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>channels</span><span class=p>;</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=n>stbi_uc</span><span class=w> </span><span class=o>*</span><span class=n>pixels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stbi_load</span><span class=p>(</span><span class=s>&quot;texture.png&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>channels</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=n>zest_size</span><span class=w> </span><span class=n>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture</span><span class=p>;</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>texture</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageWithPixels</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>pixels</span><span class=p>,</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=n>stbi_image_free</span><span class=p>(</span><span class=n>pixels</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <h3 id=zest_getimage>zest_GetImage<a class=headerlink href=#zest_getimage title="Permanent link">&para;</a></h3> <p>Retrieves the image object from a handle for usage in various image functions.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>zest_image</span><span class=w> </span><span class=nf>zest_GetImage</span><span class=p>(</span><span class=n>zest_image_handle</span><span class=w> </span><span class=n>handle</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>texture_handle</span><span class=p>);</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>zest_uint</span><span class=w> </span><span class=n>mip_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>image</span><span class=o>-&gt;</span><span class=n>mip_levels</span><span class=p>;</span>
</span></code></pre></div></p> <hr> <h3 id=zest_freeimage>zest_FreeImage<a class=headerlink href=#zest_freeimage title="Permanent link">&para;</a></h3> <p>Queues an image for deferred destruction at the end of the current frame.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImage</span><span class=p>(</span><span class=n>zest_image_handle</span><span class=w> </span><span class=n>image_handle</span><span class=p>);</span>
</span></code></pre></div> <p>Safe to call while the image may still be in use by in-flight GPU commands.</p> <hr> <h3 id=zest_freeimagenow>zest_FreeImageNow<a class=headerlink href=#zest_freeimagenow title="Permanent link">&para;</a></h3> <p>Immediately destroys an image. Only call when certain the image is not in use.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImageNow</span><span class=p>(</span><span class=n>zest_image_handle</span><span class=w> </span><span class=n>image_handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h2 id=image-views>Image Views<a class=headerlink href=#image-views title="Permanent link">&para;</a></h2> <p>Image views provide a way to access subsets of an image (specific mip levels, array layers).</p> <h3 id=zest_createviewimageinfo>zest_CreateViewImageInfo<a class=headerlink href=#zest_createviewimageinfo title="Permanent link">&para;</a></h3> <p>Creates a default image view configuration for an image.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>zest_image_view_create_info_t</span><span class=w> </span><span class=nf>zest_CreateViewImageInfo</span><span class=p>(</span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span></code></pre></div> <p>Returns a configuration with sensible defaults based on the image type. Modify the returned struct to customize which mip levels or array layers are accessible.</p> <p><strong>Fields in <code>zest_image_view_create_info_t</code>:</strong> - <code>view_type</code> - The type of view (2D, cube, array, etc.) - <code>base_mip_level</code> - First mip level accessible through this view - <code>mip_level_count</code> - Number of mip levels accessible - <code>base_array_layer</code> - First array layer accessible - <code>layer_count</code> - Number of array layers accessible</p> <hr> <h3 id=zest_createimageview>zest_CreateImageView<a class=headerlink href=#zest_createimageview title="Permanent link">&para;</a></h3> <p>Creates an image view with the specified configuration.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>zest_image_view_handle</span><span class=w> </span><span class=nf>zest_CreateImageView</span><span class=p>(</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=n>zest_image_view_create_info_t</span><span class=w> </span><span class=o>*</span><span class=n>create_info</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1>// Create a view for a specific mip level</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>zest_image_view_create_info_t</span><span class=w> </span><span class=n>view_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateViewImageInfo</span><span class=p>(</span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>view_info</span><span class=p>.</span><span class=n>base_mip_level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>view_info</span><span class=p>.</span><span class=n>mip_level_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=n>zest_image_view_handle</span><span class=w> </span><span class=n>mip2_view</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageView</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>view_info</span><span class=p>);</span>
</span></code></pre></div></p> <blockquote> <p>Note that when you create an image it automatically creates an default image view that is used when acquiring descriptor indexes. You can use this though if you need something more specific like targetting a specific mip level as in the example above.</p> </blockquote> <hr> <h3 id=zest_createimageviewspermip>zest_CreateImageViewsPerMip<a class=headerlink href=#zest_createimageviewspermip title="Permanent link">&para;</a></h3> <p>Creates an array of image views, one for each mip level.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>zest_image_view_array_handle</span><span class=w> </span><span class=nf>zest_CreateImageViewsPerMip</span><span class=p>(</span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span></code></pre></div> <p>Useful for compute shaders that need to write to individual mip levels (e.g., mipmap generation, cubemap filtering).</p> <hr> <h3 id=zest_getimageview>zest_GetImageView<a class=headerlink href=#zest_getimageview title="Permanent link">&para;</a></h3> <p>Retrieves the image view object from a handle.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>zest_image_view</span><span class=w> </span><span class=nf>zest_GetImageView</span><span class=p>(</span><span class=n>zest_image_view_handle</span><span class=w> </span><span class=n>handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_getimageviewarray>zest_GetImageViewArray<a class=headerlink href=#zest_getimageviewarray title="Permanent link">&para;</a></h3> <p>Retrieves an array of image views from a handle.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>zest_image_view_array</span><span class=w> </span><span class=nf>zest_GetImageViewArray</span><span class=p>(</span><span class=n>zest_image_view_array_handle</span><span class=w> </span><span class=n>handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_freeimageview-zest_freeimageviewnow>zest_FreeImageView / zest_FreeImageViewNow<a class=headerlink href=#zest_freeimageview-zest_freeimageviewnow title="Permanent link">&para;</a></h3> <p>Destroys an image view (deferred or immediate).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImageView</span><span class=p>(</span><span class=n>zest_image_view_handle</span><span class=w> </span><span class=n>view_handle</span><span class=p>);</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImageViewNow</span><span class=p>(</span><span class=n>zest_image_view_handle</span><span class=w> </span><span class=n>view_handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_freeimageviewarray-zest_freeimageviewarraynow>zest_FreeImageViewArray / zest_FreeImageViewArrayNow<a class=headerlink href=#zest_freeimageviewarray-zest_freeimageviewarraynow title="Permanent link">&para;</a></h3> <p>Destroys an array of image views (deferred or immediate).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImageViewArray</span><span class=p>(</span><span class=n>zest_image_view_array_handle</span><span class=w> </span><span class=n>view_handle</span><span class=p>);</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FreeImageViewArrayNow</span><span class=p>(</span><span class=n>zest_image_view_array_handle</span><span class=w> </span><span class=n>view_handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h2 id=samplers>Samplers<a class=headerlink href=#samplers title="Permanent link">&para;</a></h2> <p>Samplers define how textures are filtered and addressed when sampled in shaders.</p> <h3 id=zest_createsamplerinfo>zest_CreateSamplerInfo<a class=headerlink href=#zest_createsamplerinfo title="Permanent link">&para;</a></h3> <p>Creates default sampler configurations.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=nf>zest_CreateSamplerInfo</span><span class=p>();</span><span class=w>           </span><span class=c1>// Clamp-to-edge addressing</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=nf>zest_CreateSamplerInfoRepeat</span><span class=p>();</span><span class=w>     </span><span class=c1>// Repeat/wrap addressing</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=nf>zest_CreateSamplerInfoMirrorRepeat</span><span class=p>();</span><span class=w> </span><span class=c1>// Mirror-repeat addressing</span>
</span></code></pre></div> <p>All variants default to linear filtering with linear mipmap interpolation.</p> <hr> <h3 id=zest_createsampler>zest_CreateSampler<a class=headerlink href=#zest_createsampler title="Permanent link">&para;</a></h3> <p>Creates a sampler with the specified configuration.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>zest_sampler_handle</span><span class=w> </span><span class=nf>zest_CreateSampler</span><span class=p>(</span><span class=n>zest_context</span><span class=w> </span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=o>*</span><span class=n>info</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSamplerInfoRepeat</span><span class=p>();</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=n>zest_sampler_handle</span><span class=w> </span><span class=n>sampler_handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSampler</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=n>zest_sampler</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetSampler</span><span class=p>(</span><span class=n>sampler_handle</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <h3 id=zest_getsampler>zest_GetSampler<a class=headerlink href=#zest_getsampler title="Permanent link">&para;</a></h3> <p>Retrieves the sampler object from a handle.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>zest_sampler</span><span class=w> </span><span class=nf>zest_GetSampler</span><span class=p>(</span><span class=n>zest_sampler_handle</span><span class=w> </span><span class=n>handle</span><span class=p>);</span>
</span></code></pre></div> <hr> <h2 id=bindless-indices>Bindless Indices<a class=headerlink href=#bindless-indices title="Permanent link">&para;</a></h2> <p>Zest uses bindless descriptors where images and samplers are indexed into global descriptor arrays. These functions manage the allocation and release of those indices.</p> <h3 id=zest_acquiresampledimageindex>zest_AcquireSampledImageIndex<a class=headerlink href=#zest_acquiresampledimageindex title="Permanent link">&para;</a></h3> <p>Registers an image in the bindless descriptor array and returns its index for shader access.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_AcquireSampledImageIndex</span><span class=p>(</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=p>);</span>
</span></code></pre></div> <p>Common binding numbers: - <code>zest_texture_2d_binding</code> - Standard 2D textures - <code>zest_texture_array_binding</code> - Standard 2D texture arrays - <code>zest_storage_image_binding</code> - Storage images for use in compute shaders - <code>zest_texture_cube_binding</code> - Cubemap textures</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>texture_handle</span><span class=p>);</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=n>zest_uint</span><span class=w> </span><span class=n>texture_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSampledImageIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=c1>// Pass texture_index to shader via push constants or uniform buffer</span>
</span></code></pre></div></p> <hr> <h3 id=zest_acquiresamplerindex>zest_AcquireSamplerIndex<a class=headerlink href=#zest_acquiresamplerindex title="Permanent link">&para;</a></h3> <p>Registers a sampler in the bindless descriptor array.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_AcquireSamplerIndex</span><span class=p>(</span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_sampler</span><span class=w> </span><span class=n>sampler</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=n>zest_sampler</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetSampler</span><span class=p>(</span><span class=n>sampler_handle</span><span class=p>);</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=n>zest_uint</span><span class=w> </span><span class=n>sampler_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSamplerIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>sampler</span><span class=p>);</span>
</span></code></pre></div></p> <hr> <h3 id=zest_acquirestorageimageindex>zest_AcquireStorageImageIndex<a class=headerlink href=#zest_acquirestorageimageindex title="Permanent link">&para;</a></h3> <p>Registers an image for storage (read/write) access in compute shaders.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_AcquireStorageImageIndex</span><span class=p>(</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=p>);</span>
</span></code></pre></div> <p>Use <code>zest_storage_image_binding</code> for the binding number.</p> <hr> <h3 id=zest_acquireimagemipindexes>zest_AcquireImageMipIndexes<a class=headerlink href=#zest_acquireimagemipindexes title="Permanent link">&para;</a></h3> <p>Registers each mip level of an image separately for individual mip access in shaders.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=n>zest_uint</span><span class=w> </span><span class=o>*</span><span class=nf>zest_AcquireImageMipIndexes</span><span class=p>(</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=w>    </span><span class=n>zest_image_view_array</span><span class=w> </span><span class=n>image_view_array</span><span class=p>,</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span><span class=p>,</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=w>    </span><span class=n>zest_descriptor_type</span><span class=w> </span><span class=n>descriptor_type</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=p>);</span>
</span></code></pre></div> <p>Returns an array of indices, one per mip level. Useful for compute-based mipmap generation.</p> <hr> <h3 id=zest_releaseimageindex>zest_ReleaseImageIndex<a class=headerlink href=#zest_releaseimageindex title="Permanent link">&para;</a></h3> <p>Releases a sampled or storage image index back to the pool.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ReleaseImageIndex</span><span class=p>(</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_releaseimagemipindexes>zest_ReleaseImageMipIndexes<a class=headerlink href=#zest_releaseimagemipindexes title="Permanent link">&para;</a></h3> <p>Releases all mip-level indices for an image.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ReleaseImageMipIndexes</span><span class=p>(</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_releaseallimageindexes>zest_ReleaseAllImageIndexes<a class=headerlink href=#zest_releaseallimageindexes title="Permanent link">&para;</a></h3> <p>Releases all bindless indices associated with an image across all binding numbers.</p> <blockquote> <p><strong>Note:</strong> This will happen automatically when the image is freed.</p> </blockquote> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ReleaseAllImageIndexes</span><span class=p>(</span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_releasebindlessindex>zest_ReleaseBindlessIndex<a class=headerlink href=#zest_releasebindlessindex title="Permanent link">&para;</a></h3> <p>Releases a specific bindless index by value (for samplers or when you only have the index).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ReleaseBindlessIndex</span><span class=p>(</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=w>    </span><span class=n>zest_device</span><span class=w> </span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>index</span><span class=p>,</span>
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=p>);</span>
</span></code></pre></div> <hr> <h2 id=complete-example>Complete Example<a class=headerlink href=#complete-example title="Permanent link">&para;</a></h2> <p>Loading a texture and making it available to shaders:</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1>// Load image from file</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>channels</span><span class=p>;</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=n>stbi_uc</span><span class=w> </span><span class=o>*</span><span class=n>pixels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stbi_load</span><span class=p>(</span><span class=s>&quot;sprite.png&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>channels</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=c1>// Create GPU image</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageInfo</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=n>info</span><span class=p>.</span><span class=n>flags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_image_preset_texture</span><span class=p>;</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=n>info</span><span class=p>.</span><span class=n>format</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>;</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=n>zest_image_handle</span><span class=w> </span><span class=n>image_handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateImageWithPixels</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>pixels</span><span class=p>,</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>info</span><span class=p>);</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a><span class=n>stbi_image_free</span><span class=p>(</span><span class=n>pixels</span><span class=p>);</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a><span class=c1>// Get bindless index for shader access</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>image_handle</span><span class=p>);</span>
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a><span class=n>zest_uint</span><span class=w> </span><span class=n>texture_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSampledImageIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a><span class=c1>// Create a sampler</span>
</span><span id=__span-32-17><a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=n>zest_sampler_info_t</span><span class=w> </span><span class=n>sampler_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSamplerInfo</span><span class=p>();</span>
</span><span id=__span-32-18><a id=__codelineno-32-18 name=__codelineno-32-18 href=#__codelineno-32-18></a><span class=n>zest_sampler_handle</span><span class=w> </span><span class=n>sampler_handle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateSampler</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>sampler_info</span><span class=p>);</span>
</span><span id=__span-32-19><a id=__codelineno-32-19 name=__codelineno-32-19 href=#__codelineno-32-19></a><span class=n>zest_sampler</span><span class=w> </span><span class=n>sampler</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetSampler</span><span class=p>(</span><span class=n>sampler_handle</span><span class=p>);</span>
</span><span id=__span-32-20><a id=__codelineno-32-20 name=__codelineno-32-20 href=#__codelineno-32-20></a><span class=n>zest_uint</span><span class=w> </span><span class=n>sampler_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AcquireSamplerIndex</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>sampler</span><span class=p>);</span>
</span><span id=__span-32-21><a id=__codelineno-32-21 name=__codelineno-32-21 href=#__codelineno-32-21></a>
</span><span id=__span-32-22><a id=__codelineno-32-22 name=__codelineno-32-22 href=#__codelineno-32-22></a><span class=c1>// Use texture_index and sampler_index in your shader push constants</span>
</span></code></pre></div> <hr> <h2 id=see-also>See Also<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2> <ul> <li><a href=../../concepts/images/ >Images Concept</a></li> <li><a href=../../concepts/bindless/ >Bindless Concept</a></li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>