<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A lightweight single-header Vulkan rendering library"><link href=https://zest-docs.example.com/api-reference/frame-graph/ rel=canonical><link href=../context/ rel=prev><link href=../pipeline/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Frame Graph API - Zest Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#frame-graph-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Zest Documentation" class="md-header__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zest Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Frame Graph API </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=amber aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../concepts/ class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../examples/ class=md-tabs__link> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Zest Documentation" class="md-nav__button md-logo" aria-label="Zest Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Zest Documentation </label> <div class=md-nav__source> <a href=https://github.com/peterigz/zest title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> peterigz/zest </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../getting-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/first-application/ class=md-nav__link> <span class=md-ellipsis> First Application </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../concepts/ class="md-nav__link "> <span class=md-ellipsis> Concepts </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/device-and-context/ class=md-nav__link> <span class=md-ellipsis> Device & Context </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/frame-graph.md class=md-nav__link> <span class=md-ellipsis> Frame Graph </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/pipelines/ class=md-nav__link> <span class=md-ellipsis> Pipelines </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/buffers/ class=md-nav__link> <span class=md-ellipsis> Buffers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/images/ class=md-nav__link> <span class=md-ellipsis> Images </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/layers/ class=md-nav__link> <span class=md-ellipsis> Layers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/bindless/ class=md-nav__link> <span class=md-ellipsis> Bindless Descriptors </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/memory/ class=md-nav__link> <span class=md-ellipsis> Memory Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/01-minimal-template/ class=md-nav__link> <span class=md-ellipsis> Minimal Template </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/02-imgui/ class=md-nav__link> <span class=md-ellipsis> Adding ImGui </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/03-instancing/ class=md-nav__link> <span class=md-ellipsis> GPU Instancing </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/04-textures/ class=md-nav__link> <span class=md-ellipsis> Loading Textures </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/05-compute/ class=md-nav__link> <span class=md-ellipsis> Compute Shaders </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/06-multipass/ class=md-nav__link> <span class=md-ellipsis> Multi-Pass Rendering </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/07-shadows/ class=md-nav__link> <span class=md-ellipsis> Shadow Mapping </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../device/ class=md-nav__link> <span class=md-ellipsis> Device API </span> </a> </li> <li class=md-nav__item> <a href=../context/ class=md-nav__link> <span class=md-ellipsis> Context API </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Frame Graph API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Frame Graph API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#graph-building class=md-nav__link> <span class=md-ellipsis> Graph Building </span> </a> <nav class=md-nav aria-label="Graph Building"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_beginframegraph class=md-nav__link> <span class=md-ellipsis> zest_BeginFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_endframegraph class=md-nav__link> <span class=md-ellipsis> zest_EndFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_endframegraphandexecute class=md-nav__link> <span class=md-ellipsis> zest_EndFrameGraphAndExecute </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> <span class=md-ellipsis> Caching </span> </a> <nav class=md-nav aria-label=Caching> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_initialisecachekey class=md-nav__link> <span class=md-ellipsis> zest_InitialiseCacheKey </span> </a> </li> <li class=md-nav__item> <a href=#zest_getcachedframegraph class=md-nav__link> <span class=md-ellipsis> zest_GetCachedFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_flushcachedframegraphs class=md-nav__link> <span class=md-ellipsis> zest_FlushCachedFrameGraphs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passes class=md-nav__link> <span class=md-ellipsis> Passes </span> </a> <nav class=md-nav aria-label=Passes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_beginrenderpass class=md-nav__link> <span class=md-ellipsis> zest_BeginRenderPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_begincomputepass class=md-nav__link> <span class=md-ellipsis> zest_BeginComputePass </span> </a> </li> <li class=md-nav__item> <a href=#zest_begintransferpass class=md-nav__link> <span class=md-ellipsis> zest_BeginTransferPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_endpass class=md-nav__link> <span class=md-ellipsis> zest_EndPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_setpasstask class=md-nav__link> <span class=md-ellipsis> zest_SetPassTask </span> </a> </li> <li class=md-nav__item> <a href=#zest_emptyrenderpass class=md-nav__link> <span class=md-ellipsis> zest_EmptyRenderPass </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-connections class=md-nav__link> <span class=md-ellipsis> Resource Connections </span> </a> <nav class=md-nav aria-label="Resource Connections"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_connectinput class=md-nav__link> <span class=md-ellipsis> zest_ConnectInput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectoutput class=md-nav__link> <span class=md-ellipsis> zest_ConnectOutput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectswapchainoutput class=md-nav__link> <span class=md-ellipsis> zest_ConnectSwapChainOutput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectinputgroup class=md-nav__link> <span class=md-ellipsis> zest_ConnectInputGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectoutputgroup class=md-nav__link> <span class=md-ellipsis> zest_ConnectOutputGroup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-import class=md-nav__link> <span class=md-ellipsis> Resource Import </span> </a> <nav class=md-nav aria-label="Resource Import"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_importswapchainresource class=md-nav__link> <span class=md-ellipsis> zest_ImportSwapchainResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_importimageresource class=md-nav__link> <span class=md-ellipsis> zest_ImportImageResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_importbufferresource class=md-nav__link> <span class=md-ellipsis> zest_ImportBufferResource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transient-resources class=md-nav__link> <span class=md-ellipsis> Transient Resources </span> </a> <nav class=md-nav aria-label="Transient Resources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_addtransientimageresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientImageResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_addtransientbufferresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientBufferResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_addtransientlayerresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientLayerResource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-properties class=md-nav__link> <span class=md-ellipsis> Resource Properties </span> </a> <nav class=md-nav aria-label="Resource Properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_getresourcewidth class=md-nav__link> <span class=md-ellipsis> zest_GetResourceWidth </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceheight class=md-nav__link> <span class=md-ellipsis> zest_GetResourceHeight </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourcemiplevels class=md-nav__link> <span class=md-ellipsis> zest_GetResourceMipLevels </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourcetype class=md-nav__link> <span class=md-ellipsis> zest_GetResourceType </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceimage class=md-nav__link> <span class=md-ellipsis> zest_GetResourceImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceimagedescription class=md-nav__link> <span class=md-ellipsis> zest_GetResourceImageDescription </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourcebuffersize class=md-nav__link> <span class=md-ellipsis> zest_SetResourceBufferSize </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceclearcolor class=md-nav__link> <span class=md-ellipsis> zest_SetResourceClearColor </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceuserdata class=md-nav__link> <span class=md-ellipsis> zest_GetResourceUserData </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceuserdata class=md-nav__link> <span class=md-ellipsis> zest_SetResourceUserData </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourcebufferprovider class=md-nav__link> <span class=md-ellipsis> zest_SetResourceBufferProvider </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceimageprovider class=md-nav__link> <span class=md-ellipsis> zest_SetResourceImageProvider </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pass-resource-access class=md-nav__link> <span class=md-ellipsis> Pass Resource Access </span> </a> <nav class=md-nav aria-label="Pass Resource Access"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_getpassinputresource class=md-nav__link> <span class=md-ellipsis> zest_GetPassInputResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassoutputresource class=md-nav__link> <span class=md-ellipsis> zest_GetPassOutputResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassinputbuffer class=md-nav__link> <span class=md-ellipsis> zest_GetPassInputBuffer </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassoutputbuffer class=md-nav__link> <span class=md-ellipsis> zest_GetPassOutputBuffer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-descriptor-helpers class=md-nav__link> <span class=md-ellipsis> Bindless Descriptor Helpers </span> </a> <nav class=md-nav aria-label="Bindless Descriptor Helpers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_gettransientsampledimagebindlessindex class=md-nav__link> <span class=md-ellipsis> zest_GetTransientSampledImageBindlessIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_gettransientsampledmipbindlessindexes class=md-nav__link> <span class=md-ellipsis> zest_GetTransientSampledMipBindlessIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_gettransientbufferbindlessindex class=md-nav__link> <span class=md-ellipsis> zest_GetTransientBufferBindlessIndex </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-groups class=md-nav__link> <span class=md-ellipsis> Resource Groups </span> </a> <nav class=md-nav aria-label="Resource Groups"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createresourcegroup class=md-nav__link> <span class=md-ellipsis> zest_CreateResourceGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_addresourcetogroup class=md-nav__link> <span class=md-ellipsis> zest_AddResourceToGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_addswapchaintogroup class=md-nav__link> <span class=md-ellipsis> zest_AddSwapchainToGroup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#special-flags class=md-nav__link> <span class=md-ellipsis> Special Flags </span> </a> <nav class=md-nav aria-label="Special Flags"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_flagresourceasessential class=md-nav__link> <span class=md-ellipsis> zest_FlagResourceAsEssential </span> </a> </li> <li class=md-nav__item> <a href=#zest_donotcull class=md-nav__link> <span class=md-ellipsis> zest_DoNotCull </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#execution class=md-nav__link> <span class=md-ellipsis> Execution </span> </a> <nav class=md-nav aria-label=Execution> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_waitforsignal class=md-nav__link> <span class=md-ellipsis> zest_WaitForSignal </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#debugging class=md-nav__link> <span class=md-ellipsis> Debugging </span> </a> <nav class=md-nav aria-label=Debugging> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_printcompiledframegraph class=md-nav__link> <span class=md-ellipsis> zest_PrintCompiledFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_getframegraphresult class=md-nav__link> <span class=md-ellipsis> zest_GetFrameGraphResult </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../pipeline/ class=md-nav__link> <span class=md-ellipsis> Pipeline API </span> </a> </li> <li class=md-nav__item> <a href=../buffer/ class=md-nav__link> <span class=md-ellipsis> Buffer API </span> </a> </li> <li class=md-nav__item> <a href=../image/ class=md-nav__link> <span class=md-ellipsis> Image API </span> </a> </li> <li class=md-nav__item> <a href=../layer/ class=md-nav__link> <span class=md-ellipsis> Layer API </span> </a> </li> <li class=md-nav__item> <a href=../compute/ class=md-nav__link> <span class=md-ellipsis> Compute API </span> </a> </li> <li class=md-nav__item> <a href=../commands/ class=md-nav__link> <span class=md-ellipsis> Command API </span> </a> </li> <li class=md-nav__item> <a href=../immediate/ class=md-nav__link> <span class=md-ellipsis> Immediate API </span> </a> </li> <li class=md-nav__item> <a href=../math/ class=md-nav__link> <span class=md-ellipsis> Math API </span> </a> </li> <li class=md-nav__item> <a href=../camera/ class=md-nav__link> <span class=md-ellipsis> Camera API </span> </a> </li> <li class=md-nav__item> <a href=../timer/ class=md-nav__link> <span class=md-ellipsis> Timer API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../examples/ class="md-nav__link "> <span class=md-ellipsis> Examples </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#graph-building class=md-nav__link> <span class=md-ellipsis> Graph Building </span> </a> <nav class=md-nav aria-label="Graph Building"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_beginframegraph class=md-nav__link> <span class=md-ellipsis> zest_BeginFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_endframegraph class=md-nav__link> <span class=md-ellipsis> zest_EndFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_endframegraphandexecute class=md-nav__link> <span class=md-ellipsis> zest_EndFrameGraphAndExecute </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> <span class=md-ellipsis> Caching </span> </a> <nav class=md-nav aria-label=Caching> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_initialisecachekey class=md-nav__link> <span class=md-ellipsis> zest_InitialiseCacheKey </span> </a> </li> <li class=md-nav__item> <a href=#zest_getcachedframegraph class=md-nav__link> <span class=md-ellipsis> zest_GetCachedFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_flushcachedframegraphs class=md-nav__link> <span class=md-ellipsis> zest_FlushCachedFrameGraphs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passes class=md-nav__link> <span class=md-ellipsis> Passes </span> </a> <nav class=md-nav aria-label=Passes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_beginrenderpass class=md-nav__link> <span class=md-ellipsis> zest_BeginRenderPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_begincomputepass class=md-nav__link> <span class=md-ellipsis> zest_BeginComputePass </span> </a> </li> <li class=md-nav__item> <a href=#zest_begintransferpass class=md-nav__link> <span class=md-ellipsis> zest_BeginTransferPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_endpass class=md-nav__link> <span class=md-ellipsis> zest_EndPass </span> </a> </li> <li class=md-nav__item> <a href=#zest_setpasstask class=md-nav__link> <span class=md-ellipsis> zest_SetPassTask </span> </a> </li> <li class=md-nav__item> <a href=#zest_emptyrenderpass class=md-nav__link> <span class=md-ellipsis> zest_EmptyRenderPass </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-connections class=md-nav__link> <span class=md-ellipsis> Resource Connections </span> </a> <nav class=md-nav aria-label="Resource Connections"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_connectinput class=md-nav__link> <span class=md-ellipsis> zest_ConnectInput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectoutput class=md-nav__link> <span class=md-ellipsis> zest_ConnectOutput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectswapchainoutput class=md-nav__link> <span class=md-ellipsis> zest_ConnectSwapChainOutput </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectinputgroup class=md-nav__link> <span class=md-ellipsis> zest_ConnectInputGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_connectoutputgroup class=md-nav__link> <span class=md-ellipsis> zest_ConnectOutputGroup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-import class=md-nav__link> <span class=md-ellipsis> Resource Import </span> </a> <nav class=md-nav aria-label="Resource Import"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_importswapchainresource class=md-nav__link> <span class=md-ellipsis> zest_ImportSwapchainResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_importimageresource class=md-nav__link> <span class=md-ellipsis> zest_ImportImageResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_importbufferresource class=md-nav__link> <span class=md-ellipsis> zest_ImportBufferResource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transient-resources class=md-nav__link> <span class=md-ellipsis> Transient Resources </span> </a> <nav class=md-nav aria-label="Transient Resources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_addtransientimageresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientImageResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_addtransientbufferresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientBufferResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_addtransientlayerresource class=md-nav__link> <span class=md-ellipsis> zest_AddTransientLayerResource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-properties class=md-nav__link> <span class=md-ellipsis> Resource Properties </span> </a> <nav class=md-nav aria-label="Resource Properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_getresourcewidth class=md-nav__link> <span class=md-ellipsis> zest_GetResourceWidth </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceheight class=md-nav__link> <span class=md-ellipsis> zest_GetResourceHeight </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourcemiplevels class=md-nav__link> <span class=md-ellipsis> zest_GetResourceMipLevels </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourcetype class=md-nav__link> <span class=md-ellipsis> zest_GetResourceType </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceimage class=md-nav__link> <span class=md-ellipsis> zest_GetResourceImage </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceimagedescription class=md-nav__link> <span class=md-ellipsis> zest_GetResourceImageDescription </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourcebuffersize class=md-nav__link> <span class=md-ellipsis> zest_SetResourceBufferSize </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceclearcolor class=md-nav__link> <span class=md-ellipsis> zest_SetResourceClearColor </span> </a> </li> <li class=md-nav__item> <a href=#zest_getresourceuserdata class=md-nav__link> <span class=md-ellipsis> zest_GetResourceUserData </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceuserdata class=md-nav__link> <span class=md-ellipsis> zest_SetResourceUserData </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourcebufferprovider class=md-nav__link> <span class=md-ellipsis> zest_SetResourceBufferProvider </span> </a> </li> <li class=md-nav__item> <a href=#zest_setresourceimageprovider class=md-nav__link> <span class=md-ellipsis> zest_SetResourceImageProvider </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pass-resource-access class=md-nav__link> <span class=md-ellipsis> Pass Resource Access </span> </a> <nav class=md-nav aria-label="Pass Resource Access"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_getpassinputresource class=md-nav__link> <span class=md-ellipsis> zest_GetPassInputResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassoutputresource class=md-nav__link> <span class=md-ellipsis> zest_GetPassOutputResource </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassinputbuffer class=md-nav__link> <span class=md-ellipsis> zest_GetPassInputBuffer </span> </a> </li> <li class=md-nav__item> <a href=#zest_getpassoutputbuffer class=md-nav__link> <span class=md-ellipsis> zest_GetPassOutputBuffer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bindless-descriptor-helpers class=md-nav__link> <span class=md-ellipsis> Bindless Descriptor Helpers </span> </a> <nav class=md-nav aria-label="Bindless Descriptor Helpers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_gettransientsampledimagebindlessindex class=md-nav__link> <span class=md-ellipsis> zest_GetTransientSampledImageBindlessIndex </span> </a> </li> <li class=md-nav__item> <a href=#zest_gettransientsampledmipbindlessindexes class=md-nav__link> <span class=md-ellipsis> zest_GetTransientSampledMipBindlessIndexes </span> </a> </li> <li class=md-nav__item> <a href=#zest_gettransientbufferbindlessindex class=md-nav__link> <span class=md-ellipsis> zest_GetTransientBufferBindlessIndex </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-groups class=md-nav__link> <span class=md-ellipsis> Resource Groups </span> </a> <nav class=md-nav aria-label="Resource Groups"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_createresourcegroup class=md-nav__link> <span class=md-ellipsis> zest_CreateResourceGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_addresourcetogroup class=md-nav__link> <span class=md-ellipsis> zest_AddResourceToGroup </span> </a> </li> <li class=md-nav__item> <a href=#zest_addswapchaintogroup class=md-nav__link> <span class=md-ellipsis> zest_AddSwapchainToGroup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#special-flags class=md-nav__link> <span class=md-ellipsis> Special Flags </span> </a> <nav class=md-nav aria-label="Special Flags"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_flagresourceasessential class=md-nav__link> <span class=md-ellipsis> zest_FlagResourceAsEssential </span> </a> </li> <li class=md-nav__item> <a href=#zest_donotcull class=md-nav__link> <span class=md-ellipsis> zest_DoNotCull </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#execution class=md-nav__link> <span class=md-ellipsis> Execution </span> </a> <nav class=md-nav aria-label=Execution> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_waitforsignal class=md-nav__link> <span class=md-ellipsis> zest_WaitForSignal </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#debugging class=md-nav__link> <span class=md-ellipsis> Debugging </span> </a> <nav class=md-nav aria-label=Debugging> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zest_printcompiledframegraph class=md-nav__link> <span class=md-ellipsis> zest_PrintCompiledFrameGraph </span> </a> </li> <li class=md-nav__item> <a href=#zest_getframegraphresult class=md-nav__link> <span class=md-ellipsis> zest_GetFrameGraphResult </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=frame-graph-api>Frame Graph API<a class=headerlink href=#frame-graph-api title="Permanent link">&para;</a></h1> <p>Functions for building and executing frame graphs. The frame graph is the core execution model in Zest - it automatically handles resource barriers, synchronization, pass culling, and memory management.</p> <h2 id=graph-building>Graph Building<a class=headerlink href=#graph-building title="Permanent link">&para;</a></h2> <h3 id=zest_beginframegraph>zest_BeginFrameGraph<a class=headerlink href=#zest_beginframegraph title="Permanent link">&para;</a></h3> <p>Start building a new frame graph. This begins the recording phase where you define passes and their resource dependencies by connecting resources as inputs and outputs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>zest_bool</span><span class=w> </span><span class=nf>zest_BeginFrameGraph</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=n>zest_context</span><span class=w> </span><span class=n>context</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=o>*</span><span class=n>cache_key</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>context</code></td> <td>The context to build for</td> </tr> <tr> <td><code>name</code></td> <td>Debug name for the graph (shown in profilers/debuggers)</td> </tr> <tr> <td><code>cache_key</code></td> <td>Optional cache key (pass <code>NULL</code> or <code>0</code> to disable caching)</td> </tr> </tbody> </table> <p>Returns <code>ZEST_TRUE</code> if building should proceed, <code>ZEST_FALSE</code> if a cached graph was found.</p> <p><strong>Typical usage:</strong> Called at the start of each frame to begin defining your render pipeline. When using caching, check if a cached graph exists first to avoid redundant compilation.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=n>cache_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_InitialiseCacheKey</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>frame_graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetCachedFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>);</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>frame_graph</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Main Render&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>        </span><span class=c1>// Define passes and resources here...</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>        </span><span class=n>frame_graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_endframegraph>zest_EndFrameGraph<a class=headerlink href=#zest_endframegraph title="Permanent link">&para;</a></h3> <p>Compile and finalize the frame graph. The compiler analyzes dependencies, culls unused passes/resources, determines execution order, and generates synchronization barriers.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=nf>zest_EndFrameGraph</span><span class=p>();</span>
</span></code></pre></div> <p>Returns the compiled frame graph ready for execution.</p> <p><strong>Typical usage:</strong> Called after all passes and resources have been defined. The returned graph can be cached and re-executed across multiple frames.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;My Graph&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=c1>// ... define passes ...</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_endframegraphandexecute>zest_EndFrameGraphAndExecute<a class=headerlink href=#zest_endframegraphandexecute title="Permanent link">&para;</a></h3> <p>Compile and immediately submit the frame graph for GPU execution. Combines <code>zest_EndFrameGraph()</code> and execution into a single call.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=nf>zest_EndFrameGraphAndExecute</span><span class=p>();</span>
</span></code></pre></div> <p>Returns the compiled frame graph.</p> <p><strong>Typical usage:</strong> Useful for off-screen rendering or compute work that doesn't need to be presented to a swapchain. Often paired with <code>zest_WaitForSignal()</code> to synchronize results.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>zest_execution_timeline</span><span class=w> </span><span class=n>timeline</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateExecutionTimeline</span><span class=p>(</span><span class=n>device</span><span class=p>);</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Compute Work&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=c1>// Define compute passes...</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=n>zest_SignalTimeline</span><span class=p>(</span><span class=n>timeline</span><span class=p>);</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraphAndExecute</span><span class=p>();</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=n>zest_WaitForSignal</span><span class=p>(</span><span class=n>timeline</span><span class=p>,</span><span class=w> </span><span class=n>ZEST_SECONDS_IN_MICROSECONDS</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>    </span><span class=c1>// Results are now available</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=caching>Caching<a class=headerlink href=#caching title="Permanent link">&para;</a></h2> <h3 id=zest_initialisecachekey>zest_InitialiseCacheKey<a class=headerlink href=#zest_initialisecachekey title="Permanent link">&para;</a></h3> <p>Create a cache key that uniquely identifies a frame graph configuration. The key incorporates swapchain state (dimensions, format) plus optional user-defined state.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=nf>zest_InitialiseCacheKey</span><span class=p>(</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=n>zest_context</span><span class=w> </span><span class=n>context</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_state</span><span class=p>,</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=n>zest_size</span><span class=w> </span><span class=n>user_state_size</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>context</code></td> <td>The context (incorporates swapchain state)</td> </tr> <tr> <td><code>user_state</code></td> <td>Optional custom data to include in key (e.g., render settings)</td> </tr> <tr> <td><code>user_state_size</code></td> <td>Size of custom data in bytes</td> </tr> </tbody> </table> <p><strong>Typical usage:</strong> Use custom state when your frame graph structure changes based on runtime settings (e.g., enabling/disabling post-processing effects).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1>// Simple key based only on swapchain state</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_InitialiseCacheKey</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=c1>// Key with custom state</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=k>struct</span><span class=w> </span><span class=nc>RenderSettings</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>quality_level</span><span class=p>;</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=n>enable_shadows</span><span class=p>;</span><span class=w> </span><span class=p>};</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=n>RenderSettings</span><span class=w> </span><span class=n>settings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=nb>true</span><span class=p>};</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_InitialiseCacheKey</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>settings</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>settings</span><span class=p>));</span>
</span></code></pre></div> <hr> <h3 id=zest_getcachedframegraph>zest_GetCachedFrameGraph<a class=headerlink href=#zest_getcachedframegraph title="Permanent link">&para;</a></h3> <p>Retrieve a previously compiled frame graph from the cache. Returns the cached graph if found, allowing you to skip the compilation step.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=nf>zest_GetCachedFrameGraph</span><span class=p>(</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=n>zest_context</span><span class=w> </span><span class=n>context</span><span class=p>,</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=o>*</span><span class=n>cache_key</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=p>);</span>
</span></code></pre></div> <p>Returns the cached frame graph or <code>NULL</code> if not found.</p> <p><strong>Typical usage:</strong> Check for a cached graph before beginning a new one. Although most frame graphs compile very quickly this still helps reduce CPU overhead and is highly recommended.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>zest_frame_graph_cache_key_t</span><span class=w> </span><span class=n>cache_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_InitialiseCacheKey</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>frame_graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetCachedFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>);</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>frame_graph</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=c1>// No cache hit - build the graph</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Render&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>        </span><span class=c1>// ... define passes ...</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>        </span><span class=n>frame_graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span><span class=w> </span><span class=c1>// &lt;-- Frame graph get&#39;s cached here for the next frame(s)</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=p>}</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=c1>// Frame graph is automatically executed during zest_EndFrame()</span>
</span></code></pre></div> <hr> <h3 id=zest_flushcachedframegraphs>zest_FlushCachedFrameGraphs<a class=headerlink href=#zest_flushcachedframegraphs title="Permanent link">&para;</a></h3> <p>Clear all cached frame graphs for a context. Call this when major state changes require rebuilding all graphs (e.g., window resize, quality preset change etc.).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FlushCachedFrameGraphs</span><span class=p>(</span><span class=n>zest_context</span><span class=w> </span><span class=n>context</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Called in response to events that invalidate all cached graphs.</p> <hr> <h2 id=passes>Passes<a class=headerlink href=#passes title="Permanent link">&para;</a></h2> <h3 id=zest_beginrenderpass>zest_BeginRenderPass<a class=headerlink href=#zest_beginrenderpass title="Permanent link">&para;</a></h3> <p>Start defining a render pass for graphics operations (drawing geometry, clearing render targets). </p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>zest_pass_node</span><span class=w> </span><span class=nf>zest_BeginRenderPass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>);</span>
</span></code></pre></div> <p>Returns a pass node handle that can be used for debugging or advanced queries.</p> <p><strong>Typical usage:</strong> Use for any pass that draws geometry or clears color/depth attachments.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Shadow Map&quot;</span><span class=p>);</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>shadow_depth_resource</span><span class=p>);</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderShadowMap</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>shadow_data</span><span class=p>);</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Main Scene&quot;</span><span class=p>);</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=n>zest_ConnectInput</span><span class=p>(</span><span class=n>shadow_depth_resource</span><span class=p>);</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderMainScene</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>scene_data</span><span class=p>);</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_begincomputepass>zest_BeginComputePass<a class=headerlink href=#zest_begincomputepass title="Permanent link">&para;</a></h3> <p>Start defining a compute pass for GPU compute shader dispatch.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>zest_pass_node</span><span class=w> </span><span class=nf>zest_BeginComputePass</span><span class=p>(</span><span class=n>zest_compute</span><span class=w> </span><span class=n>compute</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>compute</code></td> <td>The compute object containing the compute pipeline</td> </tr> <tr> <td><code>name</code></td> <td>Debug name for the pass</td> </tr> </tbody> </table> <p><strong>Typical usage:</strong> Use for image processing, particle simulation, physics, or any parallel GPU work.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1>// Blur pass using compute shader</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>zest_compute</span><span class=w> </span><span class=n>blur_compute</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetCompute</span><span class=p>(</span><span class=n>blur_compute_handle</span><span class=p>);</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=n>zest_BeginComputePass</span><span class=p>(</span><span class=n>blur_compute</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Gaussian Blur&quot;</span><span class=p>);</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=n>zest_ConnectInput</span><span class=p>(</span><span class=n>input_image</span><span class=p>);</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>blurred_image</span><span class=p>);</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>DispatchBlurShader</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>blur_params</span><span class=p>);</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_begintransferpass>zest_BeginTransferPass<a class=headerlink href=#zest_begintransferpass title="Permanent link">&para;</a></h3> <p>Start defining a transfer pass for data uploads, downloads, and copy operations.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>zest_pass_node</span><span class=w> </span><span class=nf>zest_BeginTransferPass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for staging buffer uploads, buffer-to-buffer copies, or readback operations.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>zest_BeginTransferPass</span><span class=p>(</span><span class=s>&quot;Upload Vertex Data&quot;</span><span class=p>);</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>vertex_buffer_resource</span><span class=p>);</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>UploadVertexData</span><span class=p>,</span><span class=w> </span><span class=n>vertex_data</span><span class=p>);</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_endpass>zest_EndPass<a class=headerlink href=#zest_endpass title="Permanent link">&para;</a></h3> <p>Finalize the current pass definition. Must be called after each <code>zest_BeginRenderPass</code>, <code>zest_BeginComputePass</code>, or <code>zest_BeginTransferPass</code>.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Always pair with a corresponding <code>zest_Begin*Pass()</code> call.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;My Pass&quot;</span><span class=p>);</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>MyRenderCallback</span><span class=p>,</span><span class=w> </span><span class=n>user_data</span><span class=p>);</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=n>zest_EndPass</span><span class=p>();</span><span class=w>  </span><span class=c1>// Don&#39;t forget this!</span>
</span></code></pre></div> <hr> <h3 id=zest_setpasstask>zest_SetPassTask<a class=headerlink href=#zest_setpasstask title="Permanent link">&para;</a></h3> <p>Set the callback function that will be executed when this pass runs. The callback records GPU commands for the pass.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetPassTask</span><span class=p>(</span><span class=n>zest_fg_execution_callback</span><span class=w> </span><span class=n>callback</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>callback</code></td> <td>Function pointer with signature <code>void (*)(const zest_command_list, void*)</code></td> </tr> <tr> <td><code>user_data</code></td> <td>User data passed to callback during execution</td> </tr> </tbody> </table> <p>The user data must have the appropriate lifetime. Don't use a local variable or it will be out of scope by the time the callback is called.</p> <p><strong>Typical usage:</strong> Set a callback that records draw calls, compute dispatches, or transfer commands.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=kt>void</span><span class=w> </span><span class=nf>DrawScene</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=w>    </span><span class=n>SceneData</span><span class=w> </span><span class=o>*</span><span class=n>scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>SceneData</span><span class=o>*</span><span class=p>)</span><span class=n>user_data</span><span class=p>;</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>    </span><span class=n>zest_pipeline</span><span class=w> </span><span class=n>pipeline</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPipeline</span><span class=p>(</span><span class=n>scene</span><span class=o>-&gt;</span><span class=n>pipeline_template</span><span class=p>,</span><span class=w> </span><span class=n>cmd_list</span><span class=p>);</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=w>    </span><span class=n>zest_cmd_BindPipeline</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>pipeline</span><span class=p>);</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=w>    </span><span class=n>zest_cmd_DrawIndexed</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>scene</span><span class=o>-&gt;</span><span class=n>index_count</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=p>}</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Scene&quot;</span><span class=p>);</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>DrawScene</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>scene_data</span><span class=p>);</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_emptyrenderpass>zest_EmptyRenderPass<a class=headerlink href=#zest_emptyrenderpass title="Permanent link">&para;</a></h3> <p>Built-in callback that records no commands. Useful for passes that only need to clear attachments.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_EmptyRenderPass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for clear-only passes or placeholder passes during development.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1>// Pass that only clears the swapchain to a color</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Clear Background&quot;</span><span class=p>);</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>zest_EmptyRenderPass</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h2 id=resource-connections>Resource Connections<a class=headerlink href=#resource-connections title="Permanent link">&para;</a></h2> <h3 id=zest_connectinput>zest_ConnectInput<a class=headerlink href=#zest_connectinput title="Permanent link">&para;</a></h3> <p>Declare that the current pass reads from a resource. This establishes a dependency - the pass will wait for any previous writes to complete.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ConnectInput</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Connect textures, buffers, or images that your pass will sample or read from.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>shadow_map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;Shadow Map&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>depth_info</span><span class=p>);</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=c1>// First pass writes the shadow map</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Shadow Pass&quot;</span><span class=p>);</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>shadow_map</span><span class=p>);</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderShadows</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=c1>// Second pass reads the shadow map</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Lighting Pass&quot;</span><span class=p>);</span>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=n>zest_ConnectInput</span><span class=p>(</span><span class=n>shadow_map</span><span class=p>);</span><span class=w>  </span><span class=c1>// Creates dependency on Shadow Pass</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderLighting</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_connectoutput>zest_ConnectOutput<a class=headerlink href=#zest_connectoutput title="Permanent link">&para;</a></h3> <p>Declare that the current pass writes to a resource. The resource will be used as a render target or storage target.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ConnectOutput</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Connect render targets for graphics passes or output buffers for compute passes.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>gbuffer_albedo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;GBuffer Albedo&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>color_info</span><span class=p>);</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>gbuffer_normal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;GBuffer Normal&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>normal_info</span><span class=p>);</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;GBuffer Pass&quot;</span><span class=p>);</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>gbuffer_albedo</span><span class=p>);</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>gbuffer_normal</span><span class=p>);</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderGBuffer</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_connectswapchainoutput>zest_ConnectSwapChainOutput<a class=headerlink href=#zest_connectswapchainoutput title="Permanent link">&para;</a></h3> <p>Declare that the current pass writes to the swapchain (the window surface). This marks the pass as essential and ensures the swapchain image is acquired.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for the final pass(es) in your frame graph that produce visible output.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Final Composite&quot;</span><span class=p>);</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=n>zest_ConnectInput</span><span class=p>(</span><span class=n>post_processed_image</span><span class=p>);</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span><span class=w>  </span><span class=c1>// Output goes to screen</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>BlitToScreen</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_connectinputgroup>zest_ConnectInputGroup<a class=headerlink href=#zest_connectinputgroup title="Permanent link">&para;</a></h3> <p>Connect multiple resources as inputs using a resource group. Convenience function for passes that read from many resources.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ConnectInputGroup</span><span class=p>(</span><span class=n>zest_resource_group</span><span class=w> </span><span class=n>group</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use when a pass needs to read from a collection of related resources.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=n>gbuffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateResourceGroup</span><span class=p>();</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>albedo</span><span class=p>);</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>normal</span><span class=p>);</span>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>depth</span><span class=p>);</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Deferred Lighting&quot;</span><span class=p>);</span>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a><span class=n>zest_ConnectInputGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>);</span><span class=w>  </span><span class=c1>// Reads all G-buffer textures</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>DeferredLighting</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_connectoutputgroup>zest_ConnectOutputGroup<a class=headerlink href=#zest_connectoutputgroup title="Permanent link">&para;</a></h3> <p>Connect multiple resources as outputs using a resource group. Convenience function for MRT (multiple render target) rendering.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_ConnectOutputGroup</span><span class=p>(</span><span class=n>zest_resource_group</span><span class=w> </span><span class=n>group</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use when a pass writes to multiple render targets simultaneously.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=n>gbuffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateResourceGroup</span><span class=p>();</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>albedo</span><span class=p>);</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>normal</span><span class=p>);</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>material</span><span class=p>);</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;GBuffer Fill&quot;</span><span class=p>);</span>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=n>zest_ConnectOutputGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>);</span><span class=w>  </span><span class=c1>// Writes to all G-buffer targets</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderGBuffer</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h2 id=resource-import>Resource Import<a class=headerlink href=#resource-import title="Permanent link">&para;</a></h2> <h3 id=zest_importswapchainresource>zest_ImportSwapchainResource<a class=headerlink href=#zest_importswapchainresource title="Permanent link">&para;</a></h3> <p>Import the swapchain as a resource in the frame graph. Required for any graph that presents to the screen.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_ImportSwapchainResource</span><span class=p>();</span>
</span></code></pre></div> <p>Returns a resource node representing the swapchain.</p> <p><strong>Typical usage:</strong> Call once at the start of frame graph definition, before any passes that output to the swapchain.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Main&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cache_key</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=w>    </span><span class=n>zest_ImportSwapchainResource</span><span class=p>();</span><span class=w>  </span><span class=c1>// Always import first</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=w>    </span><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Draw&quot;</span><span class=p>);</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=w>    </span><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=w>    </span><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>DrawCallback</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=w>    </span><span class=n>zest_EndPass</span><span class=p>();</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=w>    </span><span class=n>frame_graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_importimageresource>zest_ImportImageResource<a class=headerlink href=#zest_importimageresource title="Permanent link">&para;</a></h3> <p>Import an existing image (texture, render target) into the frame graph. Use this for persistent resources that outlive a single frame.</p> <blockquote> <p><strong>Important Note:</strong> You don't have to import all the images that you want to use in a frame graph. You only need to import images that you're going to write and read from to create dependency chains and therefore require synconization and layout changes that the frame graph will take care of. Otherwise it's a waste of CPU time, you can just simply pass around the descriptor indexes inside the render/compute pass callbacks to use them in your shaders.</p> </blockquote> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_ImportImageResource</span><span class=p>(</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=w>    </span><span class=n>zest_image</span><span class=w> </span><span class=n>image</span><span class=p>,</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=w>    </span><span class=n>zest_resource_image_provider</span><span class=w> </span><span class=n>provider</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td>Debug name for the resource</td> </tr> <tr> <td><code>image</code></td> <td>The image to import</td> </tr> <tr> <td><code>provider</code></td> <td>A zest_resource_image_provider callback function (optional)</td> </tr> </tbody> </table> <p><strong>Typical usage:</strong> Import persistent textures, pre-loaded assets, or images from previous frames.</p> <p>The image provider callback is used to fetch the correct image view of the image in some circumstances. For example the swapchain has a built in provider to get the correct view of the currently acquired swapchain image. This is needed for when the swapchain is cached and the original image that was imported is now stale.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c1>// Import a persistent texture for sampling</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=n>zest_image</span><span class=w> </span><span class=n>diffuse_tex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetImage</span><span class=p>(</span><span class=n>my_texture_handle</span><span class=p>);</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>diffuse</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_ImportImageResource</span><span class=p>(</span><span class=s>&quot;Diffuse&quot;</span><span class=p>,</span><span class=w> </span><span class=n>diffuse_tex</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Draw Textured&quot;</span><span class=p>);</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a><span class=n>zest_ConnectInput</span><span class=p>(</span><span class=n>diffuse</span><span class=p>);</span>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>DrawTextured</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_importbufferresource>zest_ImportBufferResource<a class=headerlink href=#zest_importbufferresource title="Permanent link">&para;</a></h3> <p>Import an existing buffer into the frame graph. Use for persistent buffers or CPU-accessible readback buffers.</p> <blockquote> <p><strong>Important Note:</strong> You don't have to import all the buffers that you want to use in a frame graph. You only need to import buffers that you're going to write and read from to create dependency chains and therefore require synconization that the frame graph will take care of. Otherwise it's a waste of CPU time, you can just simply pass around the descriptor indexes for the buffers inside the render/compute pass callbacks to use them in your shaders.</p> </blockquote> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_ImportBufferResource</span><span class=p>(</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=w>    </span><span class=n>zest_buffer</span><span class=w> </span><span class=n>buffer</span><span class=p>,</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=w>    </span><span class=n>zest_resource_buffer_provider</span><span class=w> </span><span class=n>provider</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td>Debug name for the resource</td> </tr> <tr> <td><code>buffer</code></td> <td>The buffer to import</td> </tr> <tr> <td><code>provider</code></td> <td>A zest_resource_buffer_provider callback (optional)</td> </tr> </tbody> </table> <p><strong>Typical usage:</strong> Import vertex buffers, index buffers, or GPU-to-CPU readback buffers.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=c1>// Import a buffer for compute results that can be read back</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=n>zest_buffer</span><span class=w> </span><span class=n>results_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateBuffer</span><span class=p>(</span><span class=n>device</span><span class=p>,</span><span class=w> </span><span class=n>size</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>readback_info</span><span class=p>);</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>results</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_ImportBufferResource</span><span class=p>(</span><span class=s>&quot;Results&quot;</span><span class=p>,</span><span class=w> </span><span class=n>results_buffer</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=n>zest_BeginComputePass</span><span class=p>(</span><span class=n>compute</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Process&quot;</span><span class=p>);</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>results</span><span class=p>);</span>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>ProcessData</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-38-8><a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span><span id=__span-38-9><a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a>
</span><span id=__span-38-10><a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=c1>// After execution, read from results_buffer</span>
</span></code></pre></div> <hr> <h2 id=transient-resources>Transient Resources<a class=headerlink href=#transient-resources title="Permanent link">&para;</a></h2> <h3 id=zest_addtransientimageresource>zest_AddTransientImageResource<a class=headerlink href=#zest_addtransientimageresource title="Permanent link">&para;</a></h3> <p>Create an image resource with frame-lifetime. The memory is automatically allocated when needed and can be aliased with other transient resources to reduce memory usage.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_AddTransientImageResource</span><span class=p>(</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=w>    </span><span class=n>zest_image_resource_info_t</span><span class=w> </span><span class=o>*</span><span class=n>info</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for intermediate render targets, G-buffer textures, post-processing buffers, and any image that doesn't need to persist across frames.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=n>zest_image_resource_info_t</span><span class=w> </span><span class=n>color_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>zest_format_r8g8b8a8_unorm</span><span class=p>};</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=n>zest_image_resource_info_t</span><span class=w> </span><span class=n>depth_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>zest_format_depth</span><span class=p>};</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>color_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;Color&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>color_info</span><span class=p>);</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>depth_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;Depth&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>depth_info</span><span class=p>);</span>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a>
</span><span id=__span-40-7><a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Offscreen Render&quot;</span><span class=p>);</span>
</span><span id=__span-40-8><a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>color_buffer</span><span class=p>);</span>
</span><span id=__span-40-9><a id=__codelineno-40-9 name=__codelineno-40-9 href=#__codelineno-40-9></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>depth_buffer</span><span class=p>);</span>
</span><span id=__span-40-10><a id=__codelineno-40-10 name=__codelineno-40-10 href=#__codelineno-40-10></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderScene</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-40-11><a id=__codelineno-40-11 name=__codelineno-40-11 href=#__codelineno-40-11></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_addtransientbufferresource>zest_AddTransientBufferResource<a class=headerlink href=#zest_addtransientbufferresource title="Permanent link">&para;</a></h3> <p>Create a buffer resource with frame-lifetime. Memory is automatically managed and can be aliased with other transient resources.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_AddTransientBufferResource</span><span class=p>(</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_buffer_resource_info_t</span><span class=w> </span><span class=o>*</span><span class=n>info</span>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for temporary compute buffers, staging data, or any buffer that doesn't persist across frames.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=n>zest_buffer_resource_info_t</span><span class=w> </span><span class=n>buffer_info</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{};</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=n>buffer_info</span><span class=p>.</span><span class=n>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>ParticleData</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>particle_count</span><span class=p>;</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>particle_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientBufferResource</span><span class=p>(</span><span class=s>&quot;Particles&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>buffer_info</span><span class=p>);</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=n>zest_BeginComputePass</span><span class=p>(</span><span class=n>compute</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Simulate Particles&quot;</span><span class=p>);</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>particle_buffer</span><span class=p>);</span>
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>SimulateParticles</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-42-9><a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_addtransientlayerresource>zest_AddTransientLayerResource<a class=headerlink href=#zest_addtransientlayerresource title="Permanent link">&para;</a></h3> <p>Create a transient resource from a layer's buffer. Layers manage instanced/mesh rendering and this allows their buffers to participate in the frame graph.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_AddTransientLayerResource</span><span class=p>(</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_layer</span><span class=w> </span><span class=n>layer</span><span class=p>,</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=w>    </span><span class=n>zest_bool</span><span class=w> </span><span class=n>prev_fif</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td>Debug name for the resource</td> </tr> <tr> <td><code>layer</code></td> <td>The layer to use</td> </tr> <tr> <td><code>prev_fif</code></td> <td>If <code>ZEST_TRUE</code>, use previous frame-in-flight's buffer (for temporal effects)</td> </tr> </tbody> </table> <p><strong>Typical usage:</strong> Use when compute shaders need to process or generate layer data.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>sprite_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientLayerResource</span><span class=p>(</span><span class=s>&quot;Sprites&quot;</span><span class=p>,</span><span class=w> </span><span class=n>sprite_layer</span><span class=p>,</span><span class=w> </span><span class=n>ZEST_FALSE</span><span class=p>);</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=n>zest_BeginComputePass</span><span class=p>(</span><span class=n>compute</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Update Sprites&quot;</span><span class=p>);</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>sprite_buffer</span><span class=p>);</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>UpdateSpritePositions</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h2 id=resource-properties>Resource Properties<a class=headerlink href=#resource-properties title="Permanent link">&para;</a></h2> <h3 id=zest_getresourcewidth>zest_GetResourceWidth<a class=headerlink href=#zest_getresourcewidth title="Permanent link">&para;</a></h3> <p>Get the width in pixels of an image resource.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_GetResourceWidth</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Query resource dimensions for dispatch calculations or viewport setup.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=kt>void</span><span class=w> </span><span class=nf>BlurCallback</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>target</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassOutputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Target&quot;</span><span class=p>);</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetResourceWidth</span><span class=p>(</span><span class=n>target</span><span class=p>);</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetResourceHeight</span><span class=p>(</span><span class=n>target</span><span class=p>);</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=w>    </span><span class=n>zest_cmd_DispatchCompute</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>width</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>height</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>);</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_getresourceheight>zest_GetResourceHeight<a class=headerlink href=#zest_getresourceheight title="Permanent link">&para;</a></h3> <p>Get the height in pixels of an image resource.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_GetResourceHeight</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Used alongside <code>zest_GetResourceWidth()</code> for computing dispatch sizes or viewports.</p> <hr> <h3 id=zest_getresourcemiplevels>zest_GetResourceMipLevels<a class=headerlink href=#zest_getresourcemiplevels title="Permanent link">&para;</a></h3> <p>Get the number of mip levels in an image resource.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_GetResourceMipLevels</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use when generating mipmaps or accessing specific mip levels in compute shaders.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=n>zest_uint</span><span class=w> </span><span class=n>mip_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetResourceMipLevels</span><span class=p>(</span><span class=n>hdr_texture</span><span class=p>);</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>zest_uint</span><span class=w> </span><span class=n>mip</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>mip</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>mip_count</span><span class=p>;</span><span class=w> </span><span class=n>mip</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=w>    </span><span class=c1>// Process each mip level</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_getresourcetype>zest_GetResourceType<a class=headerlink href=#zest_getresourcetype title="Permanent link">&para;</a></h3> <p>Get the type of a resource (image, buffer, etc.).</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=n>zest_resource_type</span><span class=w> </span><span class=nf>zest_GetResourceType</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Use for generic code that handles different resource types.</p> <hr> <h3 id=zest_getresourceimage>zest_GetResourceImage<a class=headerlink href=#zest_getresourceimage title="Permanent link">&para;</a></h3> <p>Get the underlying <code>zest_image</code> from an image resource node. Useful when you need access to the actual image pointer.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=n>zest_image</span><span class=w> </span><span class=nf>zest_GetResourceImage</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Access the image for operations that require the image pointer directly.</p> <hr> <h3 id=zest_getresourceimagedescription>zest_GetResourceImageDescription<a class=headerlink href=#zest_getresourceimagedescription title="Permanent link">&para;</a></h3> <p>Get the full image description including format, extent, mip levels, and other properties.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=n>zest_image_info_t</span><span class=w> </span><span class=nf>zest_GetResourceImageDescription</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Query detailed image properties for configuring compute dispatches or rendering.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=kt>void</span><span class=w> </span><span class=nf>ComputeCallback</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassOutputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Output&quot;</span><span class=p>);</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=w>    </span><span class=n>zest_image_info_t</span><span class=w> </span><span class=n>desc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetResourceImageDescription</span><span class=p>(</span><span class=n>output</span><span class=p>);</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=w>    </span><span class=n>zest_cmd_DispatchCompute</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=w>        </span><span class=p>(</span><span class=n>desc</span><span class=p>.</span><span class=n>extent</span><span class=p>.</span><span class=n>width</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>8</span><span class=p>,</span>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=w>        </span><span class=p>(</span><span class=n>desc</span><span class=p>.</span><span class=n>extent</span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>7</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>8</span><span class=p>,</span>
</span><span id=__span-53-7><a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>        </span><span class=mi>1</span><span class=p>);</span>
</span><span id=__span-53-8><a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_setresourcebuffersize>zest_SetResourceBufferSize<a class=headerlink href=#zest_setresourcebuffersize title="Permanent link">&para;</a></h3> <p>Set or update the size of a buffer resource. Typically you set the size of a transient resource buffer using the info struct you pass into zest_AddTransientBufferResource but you could use this inside a resource provider callback function if you don't know the size of the buffer until execution time.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetResourceBufferSize</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>,</span><span class=w> </span><span class=n>zest_size</span><span class=w> </span><span class=n>size</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Dynamically size buffers based on runtime requirements.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=n>zest_SetResourceBufferSize</span><span class=p>(</span><span class=n>particles</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>Particle</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>active_particle_count</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_setresourceclearcolor>zest_SetResourceClearColor<a class=headerlink href=#zest_setresourceclearcolor title="Permanent link">&para;</a></h3> <p>Set the clear color for a render target resource. This color is used when the attachment is cleared at pass start.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetResourceClearColor</span><span class=p>(</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>,</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>red</span><span class=p>,</span><span class=w> </span><span class=kt>float</span><span class=w> </span><span class=n>green</span><span class=p>,</span><span class=w> </span><span class=kt>float</span><span class=w> </span><span class=n>blue</span><span class=p>,</span><span class=w> </span><span class=kt>float</span><span class=w> </span><span class=n>alpha</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Set clear colors for intermediate render targets.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>hdr_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;HDR&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>hdr_info</span><span class=p>);</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a><span class=n>zest_SetResourceClearColor</span><span class=p>(</span><span class=n>hdr_buffer</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;HDR Scene&quot;</span><span class=p>);</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>hdr_buffer</span><span class=p>);</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderHDR</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span><span class=w>  </span><span class=c1>// Starts with black clear</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_getresourceuserdata>zest_GetResourceUserData<a class=headerlink href=#zest_getresourceuserdata title="Permanent link">&para;</a></h3> <p>Get custom user data attached to a resource.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=nf>zest_GetResourceUserData</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Retrieve context-specific data associated with resources.</p> <hr> <h3 id=zest_setresourceuserdata>zest_SetResourceUserData<a class=headerlink href=#zest_setresourceuserdata title="Permanent link">&para;</a></h3> <p>Attach custom user data to a resource. Useful for associating application-specific metadata with resources.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetResourceUserData</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Store per-resource metadata like debug info or application context.</p> <hr> <h3 id=zest_setresourcebufferprovider>zest_SetResourceBufferProvider<a class=headerlink href=#zest_setresourcebufferprovider title="Permanent link">&para;</a></h3> <p>Allows you to set a resource provider callback to a transient resource if you need to make changes to a buffer at execution time.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetResourceBufferProvider</span><span class=p>(</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>,</span>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=w>    </span><span class=n>zest_resource_buffer_provider</span><span class=w> </span><span class=n>buffer_provider</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Change buffer size when the graph is executed but before the transient resource is created.</p> <hr> <h3 id=zest_setresourceimageprovider>zest_SetResourceImageProvider<a class=headerlink href=#zest_setresourceimageprovider title="Permanent link">&para;</a></h3> <p>Allows you to set a resource provider callback to a transient resource if you need to make changes to an image at execution time.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_SetResourceImageProvider</span><span class=p>(</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource_node</span><span class=p>,</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=w>    </span><span class=n>zest_resource_image_provider</span><span class=w> </span><span class=n>image_provider</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Change image size when the graph is executed but before the transient resource is created.</p> <hr> <h2 id=pass-resource-access>Pass Resource Access<a class=headerlink href=#pass-resource-access title="Permanent link">&para;</a></h2> <h3 id=zest_getpassinputresource>zest_GetPassInputResource<a class=headerlink href=#zest_getpassinputresource title="Permanent link">&para;</a></h3> <p>Get an input resource by name within a pass callback. Use this to access resources you connected with <code>zest_ConnectInput()</code>.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_GetPassInputResource</span><span class=p>(</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Retrieve resources in your pass callback to get their bindless indices or properties.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=kt>void</span><span class=w> </span><span class=nf>LightingPass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>shadow_map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassInputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Shadow Map&quot;</span><span class=p>);</span>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>shadow_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientSampledImageBindlessIndex</span><span class=p>(</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a><span class=w>        </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>shadow_map</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=w>    </span><span class=c1>// Use shadow_index in push constants</span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_getpassoutputresource>zest_GetPassOutputResource<a class=headerlink href=#zest_getpassoutputresource title="Permanent link">&para;</a></h3> <p>Get an output resource by name within a pass callback. Use this to access resources you connected with <code>zest_ConnectOutput()</code>.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=nf>zest_GetPassOutputResource</span><span class=p>(</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Access output resources to get their bindless indices for compute shader writes.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=kt>void</span><span class=w> </span><span class=nf>ComputePass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassOutputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Output Buffer&quot;</span><span class=p>);</span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>output_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientBufferBindlessIndex</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>output</span><span class=p>);</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=w>    </span><span class=c1>// Use output_index in push constants for compute shader</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_getpassinputbuffer>zest_GetPassInputBuffer<a class=headerlink href=#zest_getpassinputbuffer title="Permanent link">&para;</a></h3> <p>Get an input buffer by name within a pass callback. Convenience function that returns the buffer directly.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=n>zest_buffer</span><span class=w> </span><span class=nf>zest_GetPassInputBuffer</span><span class=p>(</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Access input buffers when you need the buffer handle directly.</p> <hr> <h3 id=zest_getpassoutputbuffer>zest_GetPassOutputBuffer<a class=headerlink href=#zest_getpassoutputbuffer title="Permanent link">&para;</a></h3> <p>Get an output buffer by name within a pass callback. Convenience function that returns the buffer directly.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=n>zest_buffer</span><span class=w> </span><span class=nf>zest_GetPassOutputBuffer</span><span class=p>(</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>name</span>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Access output buffers for copy operations or direct access.</p> <hr> <h2 id=bindless-descriptor-helpers>Bindless Descriptor Helpers<a class=headerlink href=#bindless-descriptor-helpers title="Permanent link">&para;</a></h2> <p>These functions will either acquire an index or get the index that was already acquired for the transient resource which might be the case if you're using the resource again in another pass.</p> <p>Bindless indexes that are acquired for transient resources are automatically released in the next frame after they're done with.</p> <h3 id=zest_gettransientsampledimagebindlessindex>zest_GetTransientSampledImageBindlessIndex<a class=headerlink href=#zest_gettransientsampledimagebindlessindex title="Permanent link">&para;</a></h3> <p>Get the bindless descriptor array index for a transient sampled image. Use this index in shaders to access the texture.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_GetTransientSampledImageBindlessIndex</span><span class=p>(</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>,</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Get the bindless index for passing to shaders via push constants.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=kt>void</span><span class=w> </span><span class=nf>RenderPass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>albedo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassInputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Albedo&quot;</span><span class=p>);</span>
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=w>    </span><span class=n>MyPushConstants</span><span class=w> </span><span class=n>push</span><span class=p>;</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=w>    </span><span class=n>push</span><span class=p>.</span><span class=n>albedo_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientSampledImageBindlessIndex</span><span class=p>(</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=w>        </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>albedo</span><span class=p>,</span><span class=w> </span><span class=n>zest_texture_2d_binding</span><span class=p>);</span>
</span><span id=__span-69-7><a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=w>    </span><span class=n>zest_cmd_SendPushConstants</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>push</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>push</span><span class=p>));</span>
</span><span id=__span-69-8><a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_gettransientsampledmipbindlessindexes>zest_GetTransientSampledMipBindlessIndexes<a class=headerlink href=#zest_gettransientsampledmipbindlessindexes title="Permanent link">&para;</a></h3> <p>Get bindless indices for all mip levels of a transient image. Returns an array with one index per mip level.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=n>zest_uint</span><span class=w> </span><span class=o>*</span><span class=nf>zest_GetTransientSampledMipBindlessIndexes</span><span class=p>(</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>,</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=w>    </span><span class=n>zest_binding_number_type</span><span class=w> </span><span class=n>binding_number</span>
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a><span class=p>);</span>
</span></code></pre></div> <p>Returns array of indices, one per mip level.</p> <p><strong>Typical usage:</strong> Access specific mip levels in compute shaders for downsampling or mipmap generation.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=kt>void</span><span class=w> </span><span class=nf>GenerateMipmaps</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>image</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassOutputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Image&quot;</span><span class=p>);</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=o>*</span><span class=n>mip_indices</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientSampledMipBindlessIndexes</span><span class=p>(</span>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=w>        </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>image</span><span class=p>,</span><span class=w> </span><span class=n>zest_storage_image_binding</span><span class=p>);</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a><span class=w>    </span><span class=n>zest_uint</span><span class=w> </span><span class=n>mip_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetResourceMipLevels</span><span class=p>(</span><span class=n>image</span><span class=p>);</span>
</span><span id=__span-71-6><a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>
</span><span id=__span-71-7><a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>zest_uint</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>mip_count</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-71-8><a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a><span class=w>        </span><span class=c1>// Dispatch downsample from mip_indices[i-1] to mip_indices[i]</span>
</span><span id=__span-71-9><a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-71-10><a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=zest_gettransientbufferbindlessindex>zest_GetTransientBufferBindlessIndex<a class=headerlink href=#zest_gettransientbufferbindlessindex title="Permanent link">&para;</a></h3> <p>Get the bindless descriptor array index for a transient buffer.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=n>zest_uint</span><span class=w> </span><span class=nf>zest_GetTransientBufferBindlessIndex</span><span class=p>(</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>command_list</span><span class=p>,</span>
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span>
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Get the bindless index for buffers accessed in compute shaders.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=kt>void</span><span class=w> </span><span class=nf>ComputePass</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>zest_command_list</span><span class=w> </span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>user_data</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassInputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Input Buffer&quot;</span><span class=p>);</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=w>    </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetPassOutputResource</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Output Buffer&quot;</span><span class=p>);</span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=w>    </span><span class=n>MyPushConstants</span><span class=w> </span><span class=n>push</span><span class=p>;</span>
</span><span id=__span-73-6><a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=w>    </span><span class=n>push</span><span class=p>.</span><span class=n>input_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientBufferBindlessIndex</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>input</span><span class=p>);</span>
</span><span id=__span-73-7><a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a><span class=w>    </span><span class=n>push</span><span class=p>.</span><span class=n>output_buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetTransientBufferBindlessIndex</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=n>output</span><span class=p>);</span>
</span><span id=__span-73-8><a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a><span class=w>    </span><span class=n>zest_cmd_SendPushConstants</span><span class=p>(</span><span class=n>cmd_list</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>push</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>push</span><span class=p>));</span>
</span><span id=__span-73-9><a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=resource-groups>Resource Groups<a class=headerlink href=#resource-groups title="Permanent link">&para;</a></h2> <h3 id=zest_createresourcegroup>zest_CreateResourceGroup<a class=headerlink href=#zest_createresourcegroup title="Permanent link">&para;</a></h3> <p>Create an empty resource group for batching multiple resources together.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=nf>zest_CreateResourceGroup</span><span class=p>();</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Create groups for G-buffers, multiple render targets, or related texture sets.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=n>gbuffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateResourceGroup</span><span class=p>();</span>
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>albedo</span><span class=p>);</span>
</span><span id=__span-75-3><a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>normal</span><span class=p>);</span>
</span><span id=__span-75-4><a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>gbuffer</span><span class=p>,</span><span class=w> </span><span class=n>material</span><span class=p>);</span>
</span></code></pre></div> <hr> <h3 id=zest_addresourcetogroup>zest_AddResourceToGroup<a class=headerlink href=#zest_addresourcetogroup title="Permanent link">&para;</a></h3> <p>Add a resource to a resource group.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>zest_resource_group</span><span class=w> </span><span class=n>group</span><span class=p>,</span><span class=w> </span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>image</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Build up a group of related resources for batch connection.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=n>attachments</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateResourceGroup</span><span class=p>();</span>
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>attachments</span><span class=p>,</span><span class=w> </span><span class=n>color_target</span><span class=p>);</span>
</span><span id=__span-77-3><a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>attachments</span><span class=p>,</span><span class=w> </span><span class=n>depth_target</span><span class=p>);</span>
</span><span id=__span-77-4><a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a>
</span><span id=__span-77-5><a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;Main Render&quot;</span><span class=p>);</span>
</span><span id=__span-77-6><a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=n>zest_ConnectOutputGroup</span><span class=p>(</span><span class=n>attachments</span><span class=p>);</span>
</span><span id=__span-77-7><a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>RenderScene</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-77-8><a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_addswapchaintogroup>zest_AddSwapchainToGroup<a class=headerlink href=#zest_addswapchaintogroup title="Permanent link">&para;</a></h3> <p>Add the swapchain to a resource group.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_AddSwapchainToGroup</span><span class=p>(</span><span class=n>zest_resource_group</span><span class=w> </span><span class=n>group</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Include the swapchain in a group when combining it with other outputs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=n>zest_resource_group</span><span class=w> </span><span class=n>outputs</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateResourceGroup</span><span class=p>();</span>
</span><span id=__span-79-2><a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a><span class=n>zest_AddSwapchainToGroup</span><span class=p>(</span><span class=n>outputs</span><span class=p>);</span>
</span><span id=__span-79-3><a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=n>zest_AddResourceToGroup</span><span class=p>(</span><span class=n>outputs</span><span class=p>,</span><span class=w> </span><span class=n>ui_overlay</span><span class=p>);</span>
</span></code></pre></div> <hr> <h2 id=special-flags>Special Flags<a class=headerlink href=#special-flags title="Permanent link">&para;</a></h2> <h3 id=zest_flagresourceasessential>zest_FlagResourceAsEssential<a class=headerlink href=#zest_flagresourceasessential title="Permanent link">&para;</a></h3> <p>Mark a resource to prevent it and its dependent passes from being culled, even if the resource isn't used as a final output.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_FlagResourceAsEssential</span><span class=p>(</span><span class=n>zest_resource_node</span><span class=w> </span><span class=n>resource</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Keep side-effect resources like depth buffers that don't directly connect to final output.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=n>zest_resource_node</span><span class=w> </span><span class=n>depth</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_AddTransientImageResource</span><span class=p>(</span><span class=s>&quot;Depth&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>depth_info</span><span class=p>);</span>
</span><span id=__span-81-2><a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a><span class=n>zest_FlagResourceAsEssential</span><span class=p>(</span><span class=n>depth</span><span class=p>);</span><span class=w>  </span><span class=c1>// Prevent culling</span>
</span><span id=__span-81-3><a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a>
</span><span id=__span-81-4><a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a><span class=n>zest_BeginRenderPass</span><span class=p>(</span><span class=s>&quot;3D Scene&quot;</span><span class=p>);</span>
</span><span id=__span-81-5><a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a><span class=n>zest_ConnectSwapChainOutput</span><span class=p>();</span>
</span><span id=__span-81-6><a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a><span class=n>zest_ConnectOutput</span><span class=p>(</span><span class=n>depth</span><span class=p>);</span><span class=w>  </span><span class=c1>// Depth needed for rendering but not as input elsewhere</span>
</span><span id=__span-81-7><a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>Render3D</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-81-8><a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=zest_donotcull>zest_DoNotCull<a class=headerlink href=#zest_donotcull title="Permanent link">&para;</a></h3> <p>Prevent the current pass from being culled during compilation, regardless of whether its outputs are used.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_DoNotCull</span><span class=p>();</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Keep passes with important side effects that don't produce visible resource outputs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=n>zest_BeginComputePass</span><span class=p>(</span><span class=n>compute</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Update Simulation&quot;</span><span class=p>);</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a><span class=n>zest_DoNotCull</span><span class=p>();</span><span class=w>  </span><span class=c1>// Keep even if outputs aren&#39;t connected</span>
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=n>zest_SetPassTask</span><span class=p>(</span><span class=n>UpdateSimulation</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>);</span>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a><span class=n>zest_EndPass</span><span class=p>();</span>
</span></code></pre></div> <hr> <h2 id=execution>Execution<a class=headerlink href=#execution title="Permanent link">&para;</a></h2> <h3 id=zest_waitforsignal>zest_WaitForSignal<a class=headerlink href=#zest_waitforsignal title="Permanent link">&para;</a></h3> <p>Wait for a timeline semaphore signal, blocking until the GPU work completes or timeout occurs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=n>zest_semaphore_status</span><span class=w> </span><span class=nf>zest_WaitForSignal</span><span class=p>(</span>
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a><span class=w>    </span><span class=n>zest_execution_timeline</span><span class=w> </span><span class=n>timeline</span><span class=p>,</span>
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=w>    </span><span class=n>zest_microsecs</span><span class=w> </span><span class=n>timeout</span>
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a><span class=p>);</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>timeline</code></td> <td>The execution timeline to wait on</td> </tr> <tr> <td><code>timeout</code></td> <td>Timeout in microseconds</td> </tr> </tbody> </table> <p>Returns <code>zest_semaphore_status_success</code>, <code>zest_semaphore_status_timeout</code>, or <code>zest_semaphore_status_error</code>.</p> <p><strong>Typical usage:</strong> Synchronize with GPU work for readback or when results are needed immediately.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=n>zest_execution_timeline</span><span class=w> </span><span class=n>timeline</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_CreateExecutionTimeline</span><span class=p>(</span><span class=n>device</span><span class=p>);</span>
</span><span id=__span-85-2><a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>
</span><span id=__span-85-3><a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>zest_BeginFrameGraph</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Compute Work&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-85-4><a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=w>    </span><span class=c1>// ... define compute passes ...</span>
</span><span id=__span-85-5><a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=w>    </span><span class=n>zest_SignalTimeline</span><span class=p>(</span><span class=n>timeline</span><span class=p>);</span>
</span><span id=__span-85-6><a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=w>    </span><span class=n>zest_EndFrameGraphAndExecute</span><span class=p>();</span>
</span><span id=__span-85-7><a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=p>}</span>
</span><span id=__span-85-8><a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a>
</span><span id=__span-85-9><a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=n>zest_semaphore_status</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_WaitForSignal</span><span class=p>(</span><span class=n>timeline</span><span class=p>,</span><span class=w> </span><span class=n>ZEST_SECONDS_IN_MICROSECONDS</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span>
</span><span id=__span-85-10><a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>status</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>zest_semaphore_status_success</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-85-11><a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=w>    </span><span class=c1>// GPU work complete, safe to read results</span>
</span><span id=__span-85-12><a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_BufferData</span><span class=p>(</span><span class=n>result_buffer</span><span class=p>);</span>
</span><span id=__span-85-13><a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=debugging>Debugging<a class=headerlink href=#debugging title="Permanent link">&para;</a></h2> <h3 id=zest_printcompiledframegraph>zest_PrintCompiledFrameGraph<a class=headerlink href=#zest_printcompiledframegraph title="Permanent link">&para;</a></h3> <p>Print the compiled frame graph structure to the console. Shows passes, resources, dependencies, and barriers for debugging.</p> <p><strong>Note</strong> You must <code>#define ZEST_TEST_MODE</code> before including <code>zest.h</code> in order to print frame graphs.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-86-1><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=kt>void</span><span class=w> </span><span class=nf>zest_PrintCompiledFrameGraph</span><span class=p>(</span><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>frame_graph</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Debug frame graph compilation issues or understand the execution order.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-87-1><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span>
</span><span id=__span-87-2><a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a><span class=cp>#ifdef _DEBUG</span>
</span><span id=__span-87-3><a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a><span class=n>zest_PrintCompiledFrameGraph</span><span class=p>(</span><span class=n>graph</span><span class=p>);</span><span class=w>  </span><span class=c1>// Print in debug builds</span>
</span><span id=__span-87-4><a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a><span class=cp>#endif</span>
</span><span id=__span-87-5><a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a><span class=c1>// Graph is automatically executed during zest_EndFrame()</span>
</span></code></pre></div> <hr> <h3 id=zest_getframegraphresult>zest_GetFrameGraphResult<a class=headerlink href=#zest_getframegraphresult title="Permanent link">&para;</a></h3> <p>Get the compilation result status of a frame graph. Use to check for errors after compilation.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-88-1><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=n>zest_frame_graph_result</span><span class=w> </span><span class=nf>zest_GetFrameGraphResult</span><span class=p>(</span><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>frame_graph</span><span class=p>);</span>
</span></code></pre></div> <p><strong>Typical usage:</strong> Validate that frame graph compilation succeeded.</p> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-89-1><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=n>zest_frame_graph</span><span class=w> </span><span class=n>graph</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_EndFrameGraph</span><span class=p>();</span>
</span><span id=__span-89-2><a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a><span class=n>zest_frame_graph_result</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>zest_GetFrameGraphResult</span><span class=p>(</span><span class=n>graph</span><span class=p>);</span>
</span><span id=__span-89-3><a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>result</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-89-4><a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=w>    </span><span class=c1>// Handle compilation error</span>
</span><span id=__span-89-5><a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a><span class=w>    </span><span class=n>zest_PrintCompiledFrameGraph</span><span class=p>(</span><span class=n>graph</span><span class=p>);</span>
</span><span id=__span-89-6><a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=see-also>See Also<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2> <ul> <li><a href=../../concepts/frame-graph/ >Frame Graph Concepts</a></li> <li><a href=../../concepts/frame-graph/passes/ >Passes</a></li> <li><a href=../../concepts/frame-graph/resources/ >Resources</a></li> <li><a href=../../concepts/frame-graph/execution/ >Execution</a></li> <li><a href=../../concepts/frame-graph/debugging/ >Debugging</a></li> <li><a href=../../tutorials/06-multipass/ >Multi-Pass Tutorial</a></li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>